<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="Hexo Theme Redefine">
    
    <meta name="author" content="ffy">
    <!-- preconnect -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    
        
        
        
            <link rel="preconnect" href="https://evan.beee.top" crossorigin>
        
    
    <!--- Seo Part-->
    
    <link rel="canonical" href="http://example.com/2025/04/17/swift/"/>
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="revisit-after" content="1 days">
    
    
    
        
        <meta name="description" content="Hexo Theme Redefine, Redefine Your Hexo Journey.">
<meta property="og:type" content="article">
<meta property="og:title" content="Swift学习摘记">
<meta property="og:url" content="http://example.com/2025/04/17/swift/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Hexo Theme Redefine, Redefine Your Hexo Journey.">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/images/redefine-og.webp">
<meta property="article:published_time" content="2025-04-17T12:21:21.000Z">
<meta property="article:modified_time" content="2025-05-08T15:24:06.186Z">
<meta property="article:author" content="ffy">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/images/redefine-og.webp">
    
    
    <!--- Icon Part-->
    <link rel="icon" type="image/png" href="/img/avatar.svg" sizes="192x192">
    <link rel="apple-touch-icon" sizes="180x180" href="/img/avatar.svg">
    <meta name="theme-color" content="#f0ad7c">
    <link rel="shortcut icon" href="/img/avatar.svg">
    <!--- Page Info-->
    
    <title>
        
            Swift学习摘记 | ffyの备忘录
        
    </title>

    <link rel="stylesheet" href="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/fonts/Chillax/chillax.css">

    <!--- Inject Part-->
    

    
<link rel="stylesheet" href="/css/style.css">


    
        <link rel="stylesheet" href="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/css/build/tailwind.css">
    

    <link rel="stylesheet" href="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/fonts/GeistMono/geist-mono.css">
    <link rel="stylesheet" href="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/fonts/Geist/geist.css">
    <!--- Font Part-->
    
    
        <link href="/fonts/custom-fonts.css" rel="stylesheet">
    
    
        <link href="/fonts/custom-fonts.css" rel="stylesheet">
    
    
        <link href="/fonts/custom-fonts.css" rel="stylesheet">
    
    
        <link href="/fonts/custom-fonts.css" rel="stylesheet">
    
    

    <script id="hexo-configurations">
    window.config = {"hostname":"example.com","root":"/","language":"zh-CN","path":"search.json"};
    window.theme = {"articles":{"style":{"font_size":"16px","line_height":1.5,"image_border_radius":"14px","image_alignment":"center","image_caption":false,"link_icon":true,"delete_mask":false,"title_alignment":"left","headings_top_spacing":{"h1":"3.2rem","h2":"2.4rem","h3":"1.9rem","h4":"1.6rem","h5":"1.4rem","h6":"1.3rem"}},"word_count":{"enable":true,"count":true,"min2read":true},"author_label":{"enable":true,"auto":false,"list":[]},"code_block":{"copy":true,"style":"mac","highlight_theme":{"light":"github","dark":"vs2015"},"font":{"enable":true,"family":"mono, monospace","url":"/fonts/custom-fonts.css"}},"toc":{"enable":true,"max_depth":3,"number":true,"expand":true,"init_open":true},"copyright":{"enable":true,"default":"cc_by_nc_sa"},"lazyload":true,"pangu_js":false,"recommendation":{"enable":true,"title":"推荐阅读","limit":3,"mobile_limit":2,"placeholder":"/images/wallhaven-wqery6-light.webp","skip_dirs":[]}},"colors":{"primary":"#f0ad7c","secondary":null,"default_mode":"light"},"global":{"fonts":{"chinese":{"enable":true,"family":"WenKai, sans-serif","url":"/fonts/custom-fonts.css"},"english":{"enable":true,"family":"mono, sans-serif","url":"/fonts/custom-fonts.css"},"title":{"enable":true,"family":"WenKai, sans-serif","url":"/fonts/custom-fonts.css"}},"content_max_width":"1000px","sidebar_width":"210px","hover":{"shadow":true,"scale":false},"scroll_progress":{"bar":false,"percentage":true},"website_counter":{"url":"https://cn.vercount.one/js","enable":true,"site_pv":true,"site_uv":true,"post_pv":true},"single_page":true,"preloader":{"enable":false,"custom_message":null},"open_graph":{"enable":true,"image":"/images/redefine-og.webp","description":"Hexo Theme Redefine, Redefine Your Hexo Journey."},"google_analytics":{"enable":false,"id":null}},"home_banner":{"enable":true,"style":"fixed","image":{"light":"https://my-blog-img-1358266118.cos.ap-guangzhou.myqcloud.com/undefinedsun.png?imageSlim","dark":"https://my-blog-img-1358266118.cos.ap-guangzhou.myqcloud.com/undefineddark.png?imageSlim"},"title":"不时掉落ffy的生活碎片和灵感","subtitle":{"text":["This is the first message"],"hitokoto":{"enable":true,"show_author":false,"api":"https://v1.hitokoto.cn?c=a&c=d&c=k"},"typing_speed":100,"backing_speed":80,"starting_delay":500,"backing_delay":1500,"loop":true,"smart_backspace":true},"text_color":{"light":"#fff","dark":"#d1d1b6"},"text_style":{"title_size":"2.8rem","subtitle_size":"1.5rem","line_height":1.2},"custom_font":{"enable":false,"family":null,"url":null},"social_links":{"enable":true,"style":"default","links":{"github":"https://github.com/ffy6511","instagram":null,"zhihu":null,"twitter":null,"email":"1253876012z@gmail.com"},"qrs":{"weixin":"https://my-blog-img-1358266118.cos.ap-guangzhou.myqcloud.com/undefinedvx.JPG?imageSlim"}}},"plugins":{"feed":{"enable":false},"aplayer":{"enable":false,"type":"fixed","audios":[{"name":null,"artist":null,"url":null,"cover":null,"lrc":null}]},"mermaid":{"enable":true,"version":"11.4.1"}},"version":"2.8.2","navbar":{"auto_hide":true,"color":{"left":"#f78736","right":"#367df7","transparency":35},"width":{"home":"1200px","pages":"1000px"},"links":{"Home":{"path":"/","icon":"fa-regular fa-house"},"Archives":{"path":"/archives","icon":"fa-regular fa-archive"},"Tags":{"path":"/tags","icon":"fa-regular fa-tags"},"Categories":{"path":"/categories","icon":"fa-regular fa-folder"},"Friends":{"path":"/links/","icon":"fa-regular fa-heart"},"导航":{"icon":"fa-regular fa-compass","submenus":{"chatSQL":"https://chat-sql-hazel.vercel.app/"}}},"search":{"enable":true,"preload":true}},"page_templates":{"friends_column":2,"tags_style":"blur"},"home":{"sidebar":{"enable":true,"position":"left","first_item":"info","announcement":"你很难捕捉到波奇酱的行踪, 因为ta大部分时间都宅在不知名的角落.","show_on_mobile":true,"links":{"Archives":{"path":"/archives","icon":"fa-regular fa-archive"},"Tags":{"path":"/tags","icon":"fa-regular fa-tags"},"Categories":{"path":"/categories","icon":"fa-regular fa-folder"}}},"article_date_format":"auto","excerpt_length":200,"categories":{"enable":true,"limit":3},"tags":{"enable":true,"limit":3}},"footerStart":"2025/5/8 19:11:00"};
    window.lang_ago = {"second":"%s 秒前","minute":"%s 分钟前","hour":"%s 小时前","day":"%s 天前","week":"%s 周前","month":"%s 个月前","year":"%s 年前"};
    window.data = {"masonry":false};
  </script>
    
    <!--- Fontawesome Part-->
    <link rel="stylesheet" href="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/fontawesome/fontawesome.min.css">
    <link rel="stylesheet" href="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/fontawesome/brands.min.css">
    <link rel="stylesheet" href="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/fontawesome/solid.min.css">
    <link rel="stylesheet" href="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/fontawesome/regular.min.css">
    
    
    
    
<meta name="generator" content="Hexo 7.3.0"></head>



<body>
	<div class="progress-bar-container">
	

	
	<span class="pjax-progress-bar"></span>
	<!--        <span class="swup-progress-icon">-->
	<!--            <i class="fa-solid fa-circle-notch fa-spin"></i>-->
	<!--        </span>-->
	
</div>

<main class="page-container" id="swup">

	

	<div class="main-content-container flex flex-col justify-between min-h-dvh">
		<div class="main-content-header">
			<header class="navbar-container px-6 md:px-12">
    <div class="navbar-content transition-navbar ">
        <div class="left">
            
            <a class="logo-title" href="/">
                
                ffyの备忘录
                
            </a>
        </div>

        <div class="right">
            <!-- PC -->
            <div class="desktop">
                <ul class="navbar-list">
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/"
                                        >
                                    <i class="fa-regular fa-house fa-fw"></i>
                                    首页
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/archives"
                                        >
                                    <i class="fa-regular fa-archive fa-fw"></i>
                                    归档
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/tags"
                                        >
                                    <i class="fa-regular fa-tags fa-fw"></i>
                                    标签
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/categories"
                                        >
                                    <i class="fa-regular fa-folder fa-fw"></i>
                                    分类
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/links/"
                                        >
                                    <i class="fa-regular fa-heart fa-fw"></i>
                                    友情链接
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="has-dropdown"
                                   href="#"
                                        onClick=&#34;return false;&#34;>
                                    <i class="fa-regular fa-compass fa-fw"></i>
                                    导航
                                    <i class="fa-solid fa-chevron-down fa-fw"></i>
                                </a>

                                <!-- Submenu -->
                                
                                    <ul class="sub-menu">
                                        
                                            <li>
                                                <a target="_blank" rel="noopener" href="https://chat-sql-hazel.vercel.app/">
                                                    CHATSQL
                                                </a>
                                            </li>
                                        
                                    </ul>
                                
                            </li>
                    
                    
                        <li class="navbar-item search search-popup-trigger">
                            <i class="fa-solid fa-magnifying-glass"></i>
                        </li>
                    
                </ul>
            </div>
            <!-- Mobile -->
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i>
                    </div>
                
                <div class="icon-item navbar-bar">
                    <div class="navbar-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile sheet -->
    <div class="navbar-drawer h-dvh w-full absolute top-0 left-0 bg-background-color flex flex-col justify-between">
        <ul class="drawer-navbar-list flex flex-col px-4 justify-center items-start">
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/"
                        >
                            <span>
                                首页
                            </span>
                            
                                <i class="fa-regular fa-house fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/archives"
                        >
                            <span>
                                归档
                            </span>
                            
                                <i class="fa-regular fa-archive fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/tags"
                        >
                            <span>
                                标签
                            </span>
                            
                                <i class="fa-regular fa-tags fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/categories"
                        >
                            <span>
                                分类
                            </span>
                            
                                <i class="fa-regular fa-folder fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/links/"
                        >
                            <span>
                                友情链接
                            </span>
                            
                                <i class="fa-regular fa-heart fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item-sub text-base my-1.5 flex flex-col w-full">
                        
                        <div class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary cursor-pointer text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                             navbar-data-toggle="submenu-导航"
                        >
                            <span>
                                导航
                            </span>
                            
                                <i class="fa-solid fa-chevron-right fa-sm fa-fw transition-all"></i>
                            
                        </div>
                        

                        
                            <div class="flex-col items-start px-2 py-2 hidden" data-target="submenu-导航">
                                
                                    <div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                        <a class=" text-third-text-color text-xl"
                                           target="_blank" rel="noopener" href="https://chat-sql-hazel.vercel.app/">CHATSQL</a>
                                    </div>
                                
                            </div>
                        
                    </li>
            

            
            
                
                    
                    
                    
            
        </ul>

        <div class="statistics flex justify-around my-2.5">
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/tags">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">11</div>
        <div class="label text-third-text-color text-sm">标签</div>
    </a>
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/categories">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">4</div>
        <div class="label text-third-text-color text-sm">分类</div>
    </a>
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/archives">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">11</div>
        <div class="label text-third-text-color text-sm">文章</div>
    </a>
</div>
    </div>

    <div class="window-mask"></div>

</header>


		</div>

		<div class="main-content-body transition-fade-up">
			

			<div class="main-content">
				<div class="post-page-container flex relative justify-between box-border w-full h-full">
	<div class="article-content-container">

		<div class="article-title relative w-full">
			
			<div class="w-full flex items-center pt-6 justify-start">
				<h1 class="article-title-regular text-second-text-color tracking-tight text-4xl md:text-6xl font-semibold px-2 sm:px-6 md:px-8 py-3">Swift学习摘记</h1>
			</div>
			
		</div>

		
		<div class="article-header flex flex-row gap-2 items-center px-2 sm:px-6 md:px-8">
			<div class="avatar w-[46px] h-[46px] flex-shrink-0 rounded-medium border border-border-color p-[1px]">
				<img src="/img/avatar.svg">
			</div>
			<div class="info flex flex-col justify-between">
				<div class="author flex items-center">
					<span class="name text-default-text-color text-lg font-semibold">ffy</span>
					
					<span class="author-label ml-1.5 text-xs px-2 py-0.5 rounded-small text-third-text-color border border-shadow-color-1">Lv2</span>
					
				</div>
				<div class="meta-info">
					<div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fa-regular fa-pen-fancy"></i>&nbsp;
        <span class="desktop">2025-04-17 20:21:21</span>
        <span class="mobile">2025-04-17 20:21:21</span>
        <span class="hover-info">创建</span>
    </span>
    
        <span class="article-date article-meta-item">
            <i class="fa-regular fa-wrench"></i>&nbsp;
            <span class="desktop">2025-05-08 23:24:06</span>
            <span class="mobile">2025-05-08 23:24:06</span>
            <span class="hover-info">更新</span>
        </span>
    

    
        <span class="article-categories article-meta-item">
            <i class="fa-regular fa-folders"></i>&nbsp;
            <ul>
                
                
                    
                        
                        <li>
                            <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">编程语言</a>&nbsp;
                        </li>
                    
                    
                
            </ul>
        </span>
    
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fa-regular fa-typewriter"></i>&nbsp;<span>8.3k 字</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fa-regular fa-clock"></i>&nbsp;<span>35 分钟</span>
        </span>
    
    
        <span class="article-pv article-meta-item">
            <i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

				</div>
			</div>
		</div>
		

		


		<div class="article-content markdown-body px-2 sm:px-6 md:px-8 pb-8">
			<h1 id="初见"><a href="#初见" class="headerlink" title="初见"></a>初见</h1><p>默认情况下，函数使用它们的参数名称作为它们参数的标签，在参数名称前可以自定义参数标签，或者使用 <code>_</code> 表示不使用参数标签:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">greet</span>(<span class="keyword">_</span> <span class="params">person</span>: <span class="type">String</span>, <span class="params">on</span> <span class="params">day</span>: <span class="type">String</span>) -&gt; <span class="type">String</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello <span class="subst">\(person)</span>, today is <span class="subst">\(day)</span>.&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">greet(<span class="string">&quot;John&quot;</span>, on: <span class="string">&quot;Wednesday&quot;</span>)</span><br></pre></td></tr></table></figure></div>

<blockquote>
<p>参数标签指的是调用时候的名称, 参数名指的是函数内部.</p>
</blockquote>
<p>函数是第一等类型，这意味着函数可以作为另一个函数的返回值。</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">makeIncrementer</span>() -&gt; ((<span class="type">Int</span>) -&gt; <span class="type">Int</span>) &#123;</span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">addOne</span>(<span class="params">number</span>: <span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> <span class="operator">+</span> number</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> addOne</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> increment <span class="operator">=</span> makeIncrementer()</span><br><span class="line">increment(<span class="number">7</span>)</span><br></pre></td></tr></table></figure></div>



<p>函数也可以作为另一个函数的输入参数:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">hasAnyMatches</span>(<span class="params">list</span>: [<span class="type">Int</span>], <span class="params">condition</span>: (<span class="type">Int</span>) -&gt; <span class="type">Bool</span>) -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> list &#123;</span><br><span class="line">        <span class="keyword">if</span> condition(item) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">func</span> <span class="title function_">lessThanTen</span>(<span class="params">number</span>: <span class="type">Int</span>) -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> number <span class="operator">&lt;</span> <span class="number">10</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> numbers <span class="operator">=</span> [<span class="number">20</span>, <span class="number">19</span>, <span class="number">7</span>, <span class="number">12</span>]</span><br><span class="line">hasAnyMatches(list: numbers, condition: lessThanTen)</span><br></pre></td></tr></table></figure></div>



<p>可以通过参数位置而不是参数名字来引用参数——这个方法在非常短的闭包中非常有用。</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sortedNumbers <span class="operator">=</span> numbers.sorted &#123; <span class="variable">$0</span> <span class="operator">&gt;</span> <span class="variable">$1</span> &#125;</span><br><span class="line"><span class="built_in">print</span>(sortedNumbers)</span><br></pre></td></tr></table></figure></div>





<p><code>actor</code>与 <code>class</code>类似, 但是可以序列化访问, 保护共享、可变的数据.</p>
<h3 id="对象和类"><a href="#对象和类" class="headerlink" title="对象和类"></a>对象和类</h3><h4 id="构造与析构"><a href="#构造与析构" class="headerlink" title="构造与析构"></a>构造与析构</h4><p>使用 <code>self.</code>替代 <code>this-&gt;</code>, 使用  <code>init</code> 和  <code>deinit</code>分别声明构造和析构函数:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">NamedShape</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> numberOfSides: <span class="type">Int</span> <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(<span class="params">name</span>: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.name <span class="operator">=</span> name</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">simpleDescription</span>() -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;A shape with <span class="subst">\(numberOfSides)</span> sides.&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<p>子类如果要重写父类的方法的话，需要用 <code>override</code> 标记:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Square</span>: <span class="title class_ inherited__">NamedShape</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> sideLength: <span class="type">Double</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(<span class="params">sideLength</span>: <span class="type">Double</span>, <span class="params">name</span>: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.sideLength <span class="operator">=</span> sideLength</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(name: name)</span><br><span class="line">        numberOfSides <span class="operator">=</span> <span class="number">4</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">area</span>() -&gt;  <span class="type">Double</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> sideLength <span class="operator">*</span> sideLength</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">func</span> <span class="title function_">simpleDescription</span>() -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;A square with sides of length <span class="subst">\(sideLength)</span>.&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> test <span class="operator">=</span> <span class="type">Square</span>(sideLength: <span class="number">5.2</span>, name: <span class="string">&quot;my test square&quot;</span>)</span><br><span class="line">test.area()</span><br><span class="line">test.simpleDescription()</span><br></pre></td></tr></table></figure></div>

<blockquote>
<ul>
<li>使用 <code>:className</code>的方法声明父类.</li>
<li><code>super.init</code> 是用来调用父类（超类）的初始化方法的。当创建一个子类的实例时，子类可能需要初始化一些自己的属性，同时还需要确保父类的属性也被正确初始化。这时就需要使用 <code>super.init</code> 来调用父类的初始化方法，完成父类的初始化过程</li>
<li>严格的顺序要求: 子类必须先初始化自己的属性，然后调用 <code>super.init</code>，最后才能访问或修改继承来的属性。</li>
</ul>
</blockquote>
<h3 id="计算属性"><a href="#计算属性" class="headerlink" title="计算属性"></a>计算属性</h3><h4 id="普通的计算属性"><a href="#普通的计算属性" class="headerlink" title="普通的计算属性"></a>普通的计算属性</h4><p>在属性内部使用 <code>&#123;&#125;</code>并加上 <code>return</code>, 可以让访问这个属性的时候, 返回值由结构体的其他属性计算得到.</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Temperature</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> celsius: <span class="type">Double</span></span><br><span class="line">  <span class="keyword">var</span> fahrenheit: <span class="type">Double</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> celsius <span class="operator">*</span><span class="number">1.8</span> <span class="operator">+</span> <span class="number">32</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">init</span>(<span class="params">celsius</span>: <span class="type">Double</span>)&#123;</span><br><span class="line">    <span class="keyword">self</span>.celsius <span class="operator">=</span> celsius</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<blockquote>
<ol>
<li>此时实例化一个结构体就只需要给出一个属性的值.</li>
<li><code>self</code>在上述的Swift代码中是不可或缺的, 因为形参和内部属性的名称相同.</li>
</ol>
</blockquote>
<h4 id="使用-getter-和-setter-的计算属性"><a href="#使用-getter-和-setter-的计算属性" class="headerlink" title="使用 getter 和 setter 的计算属性:"></a>使用 getter 和 setter 的计算属性:</h4><div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">EquilateralTriangle</span>: <span class="title class_ inherited__">NamedShape</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> sideLength: <span class="type">Double</span> <span class="operator">=</span> <span class="number">0.0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(<span class="params">sideLength</span>: <span class="type">Double</span>, <span class="params">name</span>: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.sideLength <span class="operator">=</span> sideLength</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(name: name)</span><br><span class="line">        numberOfSides <span class="operator">=</span> <span class="number">3</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> perimeter: <span class="type">Double</span> &#123;</span><br><span class="line">      <span class="comment">// 根据存储属性进行计算</span></span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">3.0</span> <span class="operator">*</span> sideLength</span><br><span class="line">        &#125;</span><br><span class="line">      <span class="comment">// 设置属性</span></span><br><span class="line">        <span class="keyword">set</span> &#123;</span><br><span class="line">            sideLength <span class="operator">=</span> newValue <span class="operator">/</span> <span class="number">3.0</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">func</span> <span class="title function_">simpleDescription</span>() -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;An equilateral triangle with sides of length <span class="subst">\(sideLength)</span>.&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> triangle <span class="operator">=</span> <span class="type">EquilateralTriangle</span>(sideLength: <span class="number">3.1</span>, name: <span class="string">&quot;a triangle&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(triangle.perimeter)</span><br><span class="line">triangle.perimeter <span class="operator">=</span> <span class="number">9.9</span></span><br><span class="line"><span class="built_in">print</span>(triangle.sideLength)</span><br></pre></td></tr></table></figure></div>

<p>计算属性同样是一个属性, 但是根据调用方式的不同, 有返回和设置两种方式.</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">triangle.perimeter <span class="operator">=</span> <span class="number">9.9</span></span><br><span class="line"><span class="built_in">print</span>(triangle.perimeter)</span><br></pre></td></tr></table></figure></div>



<h3 id="Mutating"><a href="#Mutating" class="headerlink" title="Mutating"></a>Mutating</h3><p>默认情况下, 结构体中的方法不能直接修改结构体的属性. 需要显式声明为 <code>mutating</code>:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">User</span>&#123;</span><br><span class="line">  <span class="keyword">let</span> username:<span class="type">String</span></span><br><span class="line">  <span class="keyword">var</span> isVisible:<span class="type">Bool</span> <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line">  <span class="keyword">var</span> friends: [string] <span class="operator">=</span> []</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">mutating</span> <span class="keyword">func</span> <span class="title function_">addFriend</span>(<span class="params">username</span>: <span class="type">String</span>)&#123;</span><br><span class="line">    friends.append(username)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<h3 id="属性监视器"><a href="#属性监视器" class="headerlink" title="属性监视器"></a>属性监视器</h3><p>使用 <code>willSet</code> 和 <code>didSet</code>。写入的代码会在属性值发生改变时调用，但不包含构造器中发生值改变的情况:</p>
<ul>
<li>分别可以使用 <code>newValue</code>与 <code>oldValue</code>来表示属性将要改变的值以及改变之前的值.</li>
</ul>
<p>e.g. 确保三角形的边长总是和正方形的边长相同。</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TriangleAndSquare</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> triangle: <span class="type">EquilateralTriangle</span> &#123;</span><br><span class="line">        <span class="keyword">willSet</span> &#123;</span><br><span class="line">            square.sideLength <span class="operator">=</span> newValue.sideLength</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> square: <span class="type">Square</span> &#123;</span><br><span class="line">        <span class="keyword">willSet</span> &#123;</span><br><span class="line">            triangle.sideLength <span class="operator">=</span> newValue.sideLength</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">init</span>(<span class="params">size</span>: <span class="type">Double</span>, <span class="params">name</span>: <span class="type">String</span>) &#123;</span><br><span class="line">        square <span class="operator">=</span> <span class="type">Square</span>(sideLength: size, name: name)</span><br><span class="line">        triangle <span class="operator">=</span> <span class="type">EquilateralTriangle</span>(sideLength: size, name: name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> triangleAndSquare <span class="operator">=</span> <span class="type">TriangleAndSquare</span>(size: <span class="number">10</span>, name: <span class="string">&quot;another test shape&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(triangleAndSquare.square.sideLength)</span><br><span class="line"><span class="built_in">print</span>(triangleAndSquare.triangle.sideLength)</span><br><span class="line">triangleAndSquare.square <span class="operator">=</span> <span class="type">Square</span>(sideLength: <span class="number">50</span>, name: <span class="string">&quot;larger square&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(triangleAndSquare.triangle.sideLength)</span><br></pre></td></tr></table></figure></div>



<h3 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h3><div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Rank</span>: <span class="title class_ inherited__">Int</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> ace <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">case</span> two, three, four, five, six, seven, eight, nine, ten</span><br><span class="line">    <span class="keyword">case</span> jack, queen, king</span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">simpleDescription</span>() -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> .ace:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;ace&quot;</span></span><br><span class="line">        <span class="keyword">case</span> .jack:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;jack&quot;</span></span><br><span class="line">        <span class="keyword">case</span> .queen:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;queen&quot;</span></span><br><span class="line">        <span class="keyword">case</span> .king:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;king&quot;</span></span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="type">String</span>(<span class="keyword">self</span>.rawValue)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> ace <span class="operator">=</span> <span class="type">Rank</span>.ace</span><br><span class="line"><span class="keyword">let</span> aceRawValue <span class="operator">=</span> ace.rawValue</span><br></pre></td></tr></table></figure></div>

<ul>
<li>如果没有设置第一个成员的初始值, 默认从 <code>0</code> 开始;</li>
<li>缺省值按照递增处理;</li>
<li><code>case</code>之外可以设置方法.</li>
</ul>
<p>使用 <code>init?(rawValue:)</code> 初始化构造器来从原始值创建一个枚举实例:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> convertedRank <span class="operator">=</span> <span class="type">Rank（rawValue</span>:<span class="number">3</span>）｛</span><br><span class="line">	<span class="keyword">let</span> threeDescription <span class="operator">=</span> convertedRank.simpleDescription（）</span><br><span class="line">｝</span><br></pre></td></tr></table></figure></div>

<blockquote>
<ul>
<li><code>if let</code>表示可选绑定, 安全地解包可选值</li>
</ul>
</blockquote>
<h4 id="解包"><a href="#解包" class="headerlink" title="解包"></a>解包</h4><ol>
<li><code>if let</code>解包</li>
</ol>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> <span class="type">A</span> <span class="operator">=</span> <span class="type">B</span> &#123;</span><br><span class="line">  <span class="operator">...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>如果 <code>B</code>不是 nil, 就将其赋值给A, 然后执行 <code>&#123;&#125;</code>内部的语句. </p>
<ol start="2">
<li><code>??</code></li>
</ol>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> score : <span class="type">Int</span> <span class="operator">?</span>  <span class="operator">=</span> <span class="literal">nil</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(score <span class="operator">??</span> default_score)</span><br><span class="line"><span class="comment">// 成绩score不是nil, 就将其打印, 否则输出默认的成绩</span></span><br></pre></td></tr></table></figure></div>



<p>对字典进行索引:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// scores是一个Int数组</span></span><br><span class="line"><span class="keyword">for</span> ( major, scores) <span class="keyword">in</span> all_scores &#123;</span><br><span class="line">  <span class="keyword">for</span> score <span class="keyword">in</span> scores&#123;</span><br><span class="line">    <span class="operator">...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果key没有使用, 可以直接忽略</span></span><br><span class="line"><span class="keyword">for</span>( <span class="keyword">_</span>, socres) <span class="keyword">in</span> all_scores&#123;</span><br><span class="line">  <span class="operator">...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<p>swift支持对字典进行更新或者移除的时候, 返回并使用就值:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> oldValue <span class="operator">=</span> scores.updateValue(<span class="number">100</span>, forKey:<span class="string">&quot;fad&quot;</span>)&#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="operator">..</span>)</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">  <span class="operator">...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> oldValue <span class="operator">=</span> scores.removeValue(forKey: <span class="string">&quot;fad&quot;</span>)&#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;fad&#x27;s old value was <span class="subst">\(oldValue)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<ul>
<li><code>@IBAction</code>表示组件交互和代码相绑定(允许在交互的时候执行外部定义的函数);</li>
<li><code>@IBOutlet</code>表示允许代码的响应改变组件本身的状态(字体、大小等).</li>
</ul>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="swift.assets/image-20250412115454400.png"
                      alt="image-20250412115454400" style="zoom:57%;" 
                >







<h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><h4 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h4><p>闭包指的是可以在特定位置运行的、不需要名称的函数.</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">scene.setOnStartHandler｛ </span><br><span class="line"><span class="comment">// 闭包的主体</span></span><br><span class="line">｝</span><br></pre></td></tr></table></figure></div>



<ul>
<li><p><code>toggle()</code>可以自动切换变量的布尔值.</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Button</span>(<span class="string">&quot;Press Me&quot;</span>) &#123;</span><br><span class="line">    isOn.toggle()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h4 id="状态属性"><a href="#状态属性" class="headerlink" title="状态属性"></a>状态属性</h4><ul>
<li><p>使用 <code>@State</code>在视图之外定义;</p>
</li>
<li><p>当状态属性的值发生改变时, 会自动更新视图中相关的部分.</p>
</li>
<li><p>对于状态对象, 使用 <code>@StateObject</code>来声明.</p>
</li>
</ul>
<h4 id="绑定"><a href="#绑定" class="headerlink" title="绑定"></a>绑定</h4><p>由 <code>@Binding</code>声明将属性连接到其他地方, 允许子视图对属性的修改并同步.</p>
<p>在属性的前面增加 <code>$</code>，表明会同步修改可信源.</p>
<h4 id="字符串插值"><a href="#字符串插值" class="headerlink" title="字符串插值"></a>字符串插值</h4><p>在较长字符串中使用常量、变量或代码表达式，使它们替换为其当前值以求出字符串的值。</p>
<p>例如，在字符串”Katy ate a \（fruit）.”中，如果fruit 是带有值 “peach”的变量，那么在求字符串的值时，\（fruit）由”peach”替换，变为 “Katy ate a peach.”。</p>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><h4 id="自动的动画效果"><a href="#自动的动画效果" class="headerlink" title="自动的动画效果"></a>自动的动画效果</h4><p>当状态属性发生改变时, 我们希望对应控制的视图元素的变化具有动画效果, 那么可以指定: e.g.</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Circle</span>()</span><br><span class="line">    .frame(maxHeight: <span class="number">200</span>)</span><br><span class="line">    .foregroundColor( isOn <span class="operator">?</span> .purple : .mint </span><br><span class="line">    .shadow(color:isOn <span class="operator">?</span> .indigo : .orange , radius: <span class="number">20</span>)</span><br><span class="line">    .scaleEffect(isOn <span class="operator">?</span> <span class="number">1</span>: <span class="number">0.75</span>)</span><br><span class="line">    .animation( .default, value: isOn)</span><br></pre></td></tr></table></figure></div>

<blockquote>
<p>其中的 <code>value： isOn</code>表示追踪的状态属性.</p>
</blockquote>
<p>在一个视图中创建状态对象,  然后在 <code>app</code>中声明为环境变量并在子视图中使用.</p>
<h1 id="设计原则"><a href="#设计原则" class="headerlink" title="设计原则"></a>设计原则</h1><p>principle </p>
<ul>
<li>需要长按进行交互的组件, 在轻触时ICON放大或者缩小</li>
</ul>
<h1 id="官方手册学习记录"><a href="#官方手册学习记录" class="headerlink" title="官方手册学习记录"></a>官方手册学习记录</h1><h2 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h2><ul>
<li><p>Swift 使用<em>字符串插值</em>将常量或变量的名称作为占位符包含在较长的字符串中，并提示 Swift 将其替换为该常量或变量的当前值。将名称包在括号中，并在左括号前用反斜杠进行转义：</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;The current value of friendlyWelcome is <span class="subst">\(friendlyWelcome)</span>&quot;</span>)</span><br><span class="line"><span class="comment">// 打印 &quot;The current value of friendlyWelcome is Bonjour！&quot;</span></span><br></pre></td></tr></table></figure></div>
</li>
<li><p>不必使用 <code>;</code>, 但是如果想在一行中编写多个独立语句，则<em>必须</em>使用分号：</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> cat <span class="operator">=</span> <span class="string">&quot;🐱&quot;</span>; <span class="built_in">print</span>(cat)</span><br><span class="line"><span class="comment">// 打印 &quot;🐱&quot;</span></span><br></pre></td></tr></table></figure></div>
</li>
<li><p>整数边界: 使用 min, max进行访问</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> minValue <span class="operator">=</span> <span class="type">UInt8</span>.min  <span class="comment">// minValue 等于 0，类型为 UInt8</span></span><br><span class="line"><span class="keyword">let</span> maxValue <span class="operator">=</span> <span class="type">UInt8</span>.max  <span class="comment">// maxValue 等于 255，类型为 UInt8</span></span><br></pre></td></tr></table></figure></div>
</li>
<li><p>类型别名: <code>typealias</code></p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typealias</span> <span class="type">AudioSample</span> <span class="operator">=</span> <span class="type">UInt16</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> maxAmplitudeFound <span class="operator">=</span> <span class="type">AudioSample</span>.min</span><br><span class="line"><span class="comment">// maxAmplitudeFound 现在为 0</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></li>
</ul>
<h3 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h3><ul>
<li>作用: 多个值组合成一个复合值</li>
</ul>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> http404Error <span class="operator">=</span> (<span class="number">404</span>, <span class="string">&quot;Not Found&quot;</span>)</span><br><span class="line"><span class="comment">// http404Error 的类型为（Int，String），且等于（404，&quot;Not Found&quot;）</span></span><br></pre></td></tr></table></figure></div>

<p>如果只需要元组的部分值，则在分解元组时使用下划线 (<code>_</code>) 忽略不需要的部分</p>
<ul>
<li><p>分解元组</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> (statusCode, statusMessage) <span class="operator">=</span> http404Error</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;The status code is <span class="subst">\(statusCode)</span>&quot;</span>)</span><br><span class="line"><span class="comment">// 打印 &quot;The status code is 404&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;The status message is <span class="subst">\(statusMessage)</span>&quot;</span>)</span><br><span class="line"><span class="comment">// 打印 &quot;The status message is Not Found&quot;</span></span><br></pre></td></tr></table></figure></div>
</li>
<li><p>可以在定义元组时为元组中的各个元素命名：</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> http200Status <span class="operator">=</span> (statusCode: <span class="number">200</span>, description: <span class="string">&quot;OK&quot;</span>)</span><br></pre></td></tr></table></figure></div>

<p>然后可以使用元素名访问:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;The status code is <span class="subst">\(http200Status.statusCode)</span>&quot;</span>)</span><br><span class="line"><span class="comment">// 打印 &quot;The status code is 200&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;The status message is <span class="subst">\(http200Status.description)</span>&quot;</span>)</span><br><span class="line"><span class="comment">// 打印 &quot;The status message is OK&quot;</span></span><br></pre></td></tr></table></figure></div>


</li>
<li><p>也可以直接使用从零开始的索引来访问, e.g. <code>http200Status.0</code></p>
</li>
</ul>
<hr>
<ul>
<li><p><u>可选</u>: 存储这种类型的值或者 <code>nil</code>.</p>
</li>
<li><p>提供后备值: <code>??</code></p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name: <span class="type">String</span>? <span class="operator">=</span> <span class="literal">nil</span></span><br><span class="line"><span class="keyword">let</span> greeting <span class="operator">=</span> <span class="string">&quot;Hello, &quot;</span> <span class="operator">+</span> (name <span class="operator">??</span> <span class="string">&quot;friend&quot;</span>) <span class="operator">+</span> <span class="string">&quot;!&quot;</span></span><br><span class="line"><span class="built_in">print</span>(greeting)</span><br><span class="line"><span class="comment">// 打印 &quot;Hello, friend!&quot;</span></span><br></pre></td></tr></table></figure></div>

<ul>
<li>如果 <code>??</code> 之前的值不是 <code>nil</code>, 就会正常解包, 否则选择后备值;</li>
<li>使用 <code>()</code> 包裹.</li>
</ul>
</li>
<li><p><u>隐式解包可选</u>: 安全假定一直都有值时使用</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> possibleString: <span class="type">String</span>? <span class="operator">=</span> <span class="string">&quot;An optional string.&quot;</span></span><br><span class="line"><span class="keyword">let</span> forcedString: <span class="type">String</span> <span class="operator">=</span> possibleString<span class="operator">!</span> <span class="comment">// 需要显式解包</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> assumedString: <span class="type">String</span>! <span class="operator">=</span> <span class="string">&quot;An implicitly unwrapped optional string.&quot;</span></span><br><span class="line"><span class="keyword">let</span> implicitString: <span class="type">String</span> <span class="operator">=</span> assumedString <span class="comment">// 隐式解包</span></span><br></pre></td></tr></table></figure></div></li>
</ul>
<hr>
<h3 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a>错误处理</h3><p>函数在声明中包含 <code>throws</code> 关键字，表示它可以抛出错误。调用可以抛出错误的函数时，要在表达式前加上 <code>try</code> 关键字.</p>
<p>Swift 会自动将错误传播到当前作用域之外，直到它们被 <code>catch</code> 子句处理为止。</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> canThrowAnError()</span><br><span class="line">    <span class="comment">// 无错误的情况</span></span><br><span class="line">&#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">    <span class="comment">// 抛出错误的情况</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<blockquote>
<p>细节部分在后面补充</p>
</blockquote>
<h3 id="断言和先决条件"><a href="#断言和先决条件" class="headerlink" title="断言和先决条件"></a>断言和先决条件</h3><h4 id="使用断言进行调试"><a href="#使用断言进行调试" class="headerlink" title="使用断言进行调试"></a>使用断言进行调试</h4><div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> age <span class="operator">=</span> <span class="operator">-</span><span class="number">3</span></span><br><span class="line"><span class="built_in">assert</span>(age <span class="operator">&gt;=</span> <span class="number">0</span>, <span class="string">&quot;A person&#x27;s age can&#x27;t be less than zero.&quot;</span>)</span><br><span class="line"><span class="comment">// 该断言失败的原因是 -3 并不 &gt;= 0。</span></span><br></pre></td></tr></table></figure></div>

<p>断言的第一个参数是预期的、正确的结果, 如果不满足条件就会显示报错. 但是不会阻止程序继续运行.</p>
<h4 id="强制执行先决条件"><a href="#强制执行先决条件" class="headerlink" title="强制执行先决条件"></a>强制执行先决条件</h4><p>当条件有可能为假，但<em>必须</em>为真才能继续执行代码时，请使用先决条件.</p>
<p>向该函数传递一个计算结果为 <code>true</code> 或 <code>false</code> 的表达式，以及一条在条件结果为 <code>false</code> 时显示的信息:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在下标的实现中...</span></span><br><span class="line"><span class="built_in">precondition</span>(index <span class="operator">&gt;</span> <span class="number">0</span>, <span class="string">&quot;Index must be greater than zero.&quot;</span>)</span><br></pre></td></tr></table></figure></div>

<hr>
<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><h3 id="基本运算符"><a href="#基本运算符" class="headerlink" title="基本运算符"></a>基本运算符</h3><ul>
<li><p>与 C 和 Objective-C 中的赋值运算符不同，Swift 中的赋值运算符本身不返回值。以下语句无效：</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> x <span class="operator">=</span> y &#123; <span class="comment">// 这是无效的，因为 x = y 不返回值。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<ul>
<li>可以防止不小心使用赋值运算符（&#x3D;） 而非等于运算符（&#x3D;&#x3D;）.</li>
</ul>
</li>
<li><p>基本的四则运算不允许值的溢出.</p>
</li>
</ul>
<blockquote>
<p>[!NOTE]</p>
<p>在 Swift 中对负数的处理与模运算符有所不同:</p>
<p>为了确定 <code>a % b</code> 的答案，<code>%</code> 运算符计算以下等式并返回 <code>余数</code> 作为输出：</p>
<div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a` = (`b` x `某个乘数`) + `余数</span><br></pre></td></tr></table></figure></div>

<p>其中 <code>某个乘数</code> 是 <code>b</code> 在 <code>a</code> 中能容纳的最大倍数。</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">9</span> <span class="operator">%</span> <span class="number">4</span>    <span class="comment">// 等于 1</span></span><br><span class="line"></span><br><span class="line"><span class="operator">-</span><span class="number">9</span> <span class="operator">%</span> <span class="number">4</span>   <span class="comment">// 等于 -1</span></span><br></pre></td></tr></table></figure></div></blockquote>
<ul>
<li><p>数值的正负号可以使用前缀 <code>-</code> 切换，称为<u>一元负号运算符</u>.</p>
<ul>
<li><p>中间没有任何空格.</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> three <span class="operator">=</span> <span class="number">3</span></span><br><span class="line"><span class="keyword">let</span> minusThree <span class="operator">=</span> <span class="operator">-</span>three       <span class="comment">// minusThree 等于 -3</span></span><br></pre></td></tr></table></figure></div></li>
</ul>
</li>
</ul>
<h4 id="元组的计算"><a href="#元组的计算" class="headerlink" title="元组的计算"></a>元组的计算</h4><ul>
<li>前提: 如果两个元组具有相同的类型和相同数量的值，则可以比较它们.</li>
<li>规则: <ul>
<li>元组是从左到右逐个值进行比较的，直到比较发现两个不相等的值为止。</li>
<li>这两个值将进行比较，并且该比较的结果决定了整个元组比较的结果。</li>
<li>如果所有元素都相等，那么这两个元组本身就相等。</li>
</ul>
</li>
</ul>
<blockquote>
<p>[!NOTE]</p>
<p>只有当给定的运算符可以应用于各自元组中的每个值时，元组才能与该运算符进行比较.</p>
</blockquote>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="string">&quot;blue&quot;</span>, <span class="literal">false</span>) <span class="operator">&lt;</span> (<span class="string">&quot;purple&quot;</span>, <span class="literal">true</span>)  <span class="comment">// 错误，因为 &lt; 不能比较布尔值</span></span><br></pre></td></tr></table></figure></div>



<h4 id="空合并运算符"><a href="#空合并运算符" class="headerlink" title="空合并运算符"></a>空合并运算符</h4><p><code>a ?? b</code>的结果与下面的运算相同:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a <span class="operator">!=</span> <span class="literal">nil</span> <span class="operator">?</span> a<span class="operator">!</span> : b</span><br></pre></td></tr></table></figure></div>



<h4 id="区间运算"><a href="#区间运算" class="headerlink" title="区间运算"></a>区间运算</h4><ul>
<li><p><em>闭区间运算符</em>（<code>a...b</code>）定义了一个从 <code>a</code> 到 <code>b</code> 的范围，包括 <code>a</code> 和 <code>b</code> 的值。<code>a</code> 的值不能大于 <code>b</code>;</p>
<ul>
<li><p>在需要使用所有值的情况下很有用</p>
</li>
<li><p>e.g.</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> <span class="number">1</span><span class="operator">...</span><span class="number">5</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">\(index)</span> 乘以 5 等于 <span class="subst">\(index <span class="operator">*</span> <span class="number">5</span>)</span>&quot;</span>) </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li>
</ul>
</li>
<li><p><em>半开区间运算符</em>（<code>a..&lt;b</code>）定义了一个从 <code>a</code> 到 <code>b</code> 但不包括 <code>b</code> 的范围.</p>
<ul>
<li><p>对于处理从基数 0 开始的列表（如数组）时特别有用，因为它可以计数到列表长度（但不包括列表长度）.</p>
</li>
<li><p>e.g.</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> names <span class="operator">=</span> [<span class="string">&quot;Anna&quot;</span>, <span class="string">&quot;Alex&quot;</span>, <span class="string">&quot;Brian&quot;</span>, <span class="string">&quot;Jack&quot;</span>] </span><br><span class="line"><span class="keyword">let</span> count <span class="operator">=</span> names.count</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span><span class="operator">..&lt;</span>count &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;第 <span class="subst">\(i <span class="operator">+</span> <span class="number">1</span>)</span> 个人叫 <span class="subst">\(names[i])</span>&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li>
</ul>
</li>
<li><p>闭区间运算符有一种替代形式，用于一直延伸到尽可能远的区间 —— 例如，一个包含从索引 2 到数组末尾所有元素的区间。</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> names[<span class="number">2</span><span class="operator">...</span>] &#123; <span class="built_in">print</span>(name) &#125;</span><br><span class="line"><span class="comment">// Brian</span></span><br><span class="line"><span class="comment">// Jack</span></span><br></pre></td></tr></table></figure></div>
</li>
<li><p>半开区间运算符也有一种只写最后一个值的单侧形式</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> names[<span class="operator">..&lt;</span><span class="number">2</span>] &#123; <span class="built_in">print</span>(name) &#125;</span><br><span class="line"><span class="comment">// Anna</span></span><br><span class="line"><span class="comment">// Alex</span></span><br></pre></td></tr></table></figure></div></li>
</ul>
<h4 id="逻辑运算"><a href="#逻辑运算" class="headerlink" title="逻辑运算"></a>逻辑运算</h4><blockquote>
<p>[!NOTE]</p>
<p>Swift 逻辑运算符 <code>&amp;&amp;</code> 和 <code>||</code> 遵循<u>从左到右</u>的结合顺序，这意味着带有多个逻辑运算符的复合表达式会首先评估最左边的子表达式.</p>
</blockquote>
<h2 id="控制流"><a href="#控制流" class="headerlink" title="控制流"></a>控制流</h2><h2 id="协议"><a href="#协议" class="headerlink" title="协议"></a>协议</h2><ul>
<li>如果类需要继承, 需要将父类写在所有的协议之前</li>
<li>不能在协议定义中为方法参数指定默认值。</li>
<li>协议也可以要求遵循协议的类型 <u>实现指定的构造器</u>, 和协议内部的方法一样, 不需要写花括号和构造期的实体<ul>
<li>如果是类, 必须在构造函数的开头加上 <code>required</code>修饰符. 这是为了确保所有继承的子类也提供这个构造函数的实现, 从而确保遵守协议;</li>
<li>但是如果一个类被声明为了 <code>final</code>, 也就是无法被继承, 那么就不需要 <code>required</code>的声明</li>
</ul>
</li>
</ul>
<h3 id="协议的基本用法"><a href="#协议的基本用法" class="headerlink" title="协议的基本用法"></a>协议的基本用法</h3><p>协议可以规定属性类型以及属性被操作的权限, 通常和类、结构体和枚举进行绑定, 作为一种强制的约束.</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protocol</span> <span class="title class_">Tax</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> national: <span class="type">Double</span> &#123; <span class="keyword">get</span> &#125; </span><br><span class="line">  <span class="keyword">var</span> individual: <span class="type">Double</span>&#123; <span class="keyword">set</span> <span class="keyword">get</span>&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>同样可以在协议中使用 <code>mutating</code> 来声明一个改变自身属性的方法:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protocol</span> <span class="title class_">Tax</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> national: <span class="type">Double</span> &#123; <span class="keyword">get</span> &#125; </span><br><span class="line">  <span class="keyword">var</span> individual: <span class="type">Double</span>&#123; <span class="keyword">set</span> <span class="keyword">get</span>&#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">mutating</span> <span class="keyword">func</span> <span class="title function_">changeTax</span>(<span class="params">newValue</span>: <span class="type">Double</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<ul>
<li><p>需要注意的是, 结构体内部的方法如果要修改自身属性, 也需要声明 <code>mutating</code>, 但是类则不需要额外的声明.</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Taxas</span>: <span class="title class_ inherited__">Tax</span>&#123;</span><br><span class="line">   <span class="keyword">var</span> national: <span class="type">Double</span></span><br><span class="line">  <span class="keyword">var</span> individual: <span class="type">Double</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">mutating</span> <span class="keyword">func</span> <span class="title function_">changeTax</span>(<span class="params">newValue</span>: <span class="type">Double</span>)&#123;</span><br><span class="line">    national <span class="operator">=</span> newValue</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h3 id="补充协议"><a href="#补充协议" class="headerlink" title="补充协议"></a>补充协议</h3><ul>
<li><p>使用 <code>,</code> 连接不同的协议</p>
</li>
<li><p><code>extension</code>可以为协议的函数设置默认方法, 就不需要继续在每一个类、结构体或枚举中重新定义</p>
<ul>
<li><p>同样可以补充数据类型</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extension</span> <span class="title class_">Int</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> abs: <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">get</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> <span class="keyword">self</span> <span class="operator">&gt;=</span> <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span></span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="operator">-</span><span class="keyword">self</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>((<span class="operator">-</span><span class="number">3</span>).abs);</span><br><span class="line"><span class="comment">// 3</span></span><br></pre></td></tr></table></figure></div></li>
</ul>
</li>
</ul>
<h4 id="有条件地遵循协议"><a href="#有条件地遵循协议" class="headerlink" title="有条件地遵循协议"></a>有条件地遵循协议</h4><p>让 <code>Array</code> 类型只要在存储遵循 <code>TextRepresentable</code> 协议的元素时，就遵循 <code>TextRepresentable</code> 协议:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extension</span> <span class="title class_">Array</span>: <span class="title class_ inherited__">TextRepresentable</span> <span class="keyword">where</span> <span class="title class_ inherited__">Element</span>: <span class="title class_ inherited__">TextRepresentable</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> textualDescription: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> itemsAsText <span class="operator">=</span> <span class="keyword">self</span>.map &#123; <span class="variable">$0</span>.textualDescription &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;[&quot;</span> <span class="operator">+</span> itemsAsText.joined(separator: <span class="string">&quot;, &quot;</span>) <span class="operator">+</span> <span class="string">&quot;]&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> myDice <span class="operator">=</span> [d6, d12]</span><br><span class="line"><span class="built_in">print</span>(myDice.textualDescription)</span><br><span class="line"><span class="comment">// 打印 &quot;[A 6-sided dice, A 12-sided dice]&quot;</span></span><br></pre></td></tr></table></figure></div>



<h4 id="扩展里声明协议遵循"><a href="#扩展里声明协议遵循" class="headerlink" title="扩展里声明协议遵循"></a>扩展里声明协议遵循</h4><p>当一个类型已经遵循了某个协议中的所有要求，却还没有声明遵循该协议时，可以通过空的扩展来让它遵循该协议:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Hamster</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> textualDescription: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;A hamster named <span class="subst">\(name)</span>&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">extension</span> <span class="title class_">Hamster</span>: <span class="title class_ inherited__">TextRepresentable</span> &#123;&#125;</span><br></pre></td></tr></table></figure></div>



<h3 id="Error-handling"><a href="#Error-handling" class="headerlink" title="Error handling"></a>Error handling</h3><p>系统提供了 <code>Error</code>协议用于错误处理, 主动给予错误的捕捉情况.</p>
<p>使用方法:</p>
<ol>
<li>定义遵循相关协议的枚举类型, 作为错误的类型;</li>
<li>定义可能抛出错误的函数;</li>
<li>使用 <code>do...catch</code>块来结构化地处理错误.</li>
</ol>
<p>e.g.</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个错误类型，遵循 Error 协议</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">PasswordError</span>: <span class="title class_ inherited__">Error</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> tooShort</span><br><span class="line">    <span class="keyword">case</span> tooWeak</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 一个函数，可能抛出错误</span></span><br><span class="line"><span class="keyword">func</span> <span class="title function_">validate</span>(<span class="params">password</span>: <span class="type">String</span>) <span class="keyword">throws</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> password.count <span class="operator">&lt;</span> <span class="number">6</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="type">PasswordError</span>.tooShort</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> password <span class="operator">==</span> <span class="string">&quot;123456&quot;</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="type">PasswordError</span>.tooWeak</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 do-catch 捕捉错误</span></span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> validate(password: <span class="string">&quot;123456&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;密码验证通过 ✅&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">catch</span> <span class="type">PasswordError</span>.tooShort &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;❌ 密码太短，请至少使用 6 个字符&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">catch</span> <span class="type">PasswordError</span>.tooWeak &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;❌ 密码太弱，不能使用简单的序列&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;❌ 发生未知错误：<span class="subst">\(error)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<blockquote>
<ul>
<li>throws：在函数声明中标注该函数会抛出错误;</li>
<li>try：在调用可能抛出错误的函数时使用.</li>
</ul>
</blockquote>
<h3 id="其他的协议"><a href="#其他的协议" class="headerlink" title="其他的协议"></a>其他的协议</h3><h4 id="CaseIterable"><a href="#CaseIterable" class="headerlink" title="CaseIterable"></a>CaseIterable</h4><p>用于获取枚举的属性个数, 从而进行遍历.</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Status</span>:<span class="title class_ inherited__">CaseIterable</span>&#123;</span><br><span class="line">    <span class="keyword">case</span> low,middle,high</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">mutating</span> <span class="keyword">func</span> <span class="title function_">change</span>()&#123;</span><br><span class="line">        <span class="keyword">switch</span> <span class="keyword">self</span>&#123;</span><br><span class="line">        <span class="keyword">case</span> .high:</span><br><span class="line">            <span class="keyword">self</span> <span class="operator">=</span> .low</span><br><span class="line">        <span class="keyword">case</span> .low:</span><br><span class="line">            <span class="keyword">self</span> <span class="operator">=</span> .middle</span><br><span class="line">        <span class="keyword">case</span> .middle:</span><br><span class="line">            <span class="keyword">self</span> <span class="operator">=</span> .high</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">ptr</span>()&#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Current Status is <span class="subst">\(<span class="keyword">self</span>)</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> status <span class="operator">=</span> <span class="type">Status</span>.low</span><br><span class="line"><span class="keyword">for</span> <span class="keyword">_</span> <span class="keyword">in</span> <span class="number">0</span><span class="operator">..&lt;</span><span class="type">Status</span>.allCases.count&#123;</span><br><span class="line">    status.ptr()</span><br><span class="line">    status.change()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<blockquote>
<p><code>for _ in 0..&lt;</code> 当中的 <code>_</code>表示忽略遍历时候的循环变量的值.</p>
</blockquote>
<h2 id="闭包-1"><a href="#闭包-1" class="headerlink" title="闭包"></a>闭包</h2><h4 id="闭包的简化推导"><a href="#闭包的简化推导" class="headerlink" title="闭包的简化推导"></a>闭包的简化推导</h4><p>相当于匿名函数与 <code>lambda</code>.  接下来从普通函数的写法开始简化:</p>
<ul>
<li><p>普通函数: </p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">changeSign</span>(<span class="params">op</span>: <span class="type">Double</span>) -&gt; <span class="type">Double</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="operator">-</span>op</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> operation: (<span class="type">Double</span>) -&gt; <span class="type">Double</span></span><br><span class="line">operation <span class="operator">=</span> changeSign</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result <span class="operator">=</span> operation(<span class="number">4.0</span>) <span class="comment">// result = -4.0</span></span><br></pre></td></tr></table></figure></div>
</li>
<li><p>将函数的定义下移:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> operation: (<span class="type">Double</span>) -&gt; <span class="type">Double</span></span><br><span class="line">operation <span class="operator">=</span> (op:<span class="type">Double</span>) -&gt; <span class="type">Double</span> &#123; <span class="keyword">return</span> <span class="operator">-</span>op&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result  <span class="operator">=</span> operation(<span class="number">4.0</span>)</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>将<code>｛</code> 提前，并在原来的位置添加 <code>in</code></p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> operation:(<span class="type">Double</span>) -&gt; <span class="type">Double</span></span><br><span class="line">operation <span class="operator">=</span> &#123;(op: <span class="type">Double</span>) -&gt; <span class="type">Double</span>  <span class="keyword">in</span> <span class="keyword">return</span> <span class="operator">-</span>op&#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure></div>
</li>
<li><p>系统可以推断类型, 所以根据输入的类型简化返回值的类型定义</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> operation:(<span class="type">Double</span>) -&gt; <span class="type">Double</span></span><br><span class="line">operation <span class="operator">=</span> &#123;(op: <span class="type">Double</span>)   <span class="keyword">in</span> <span class="keyword">return</span> <span class="operator">-</span>op&#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure></div>
</li>
<li><p>可以进一步省略传入的类型</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> operation:(<span class="type">Double</span>) -&gt; <span class="type">Double</span></span><br><span class="line">operation <span class="operator">=</span> &#123; (op) <span class="keyword">in</span> <span class="keyword">return</span> <span class="operator">-</span>op&#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure></div>
</li>
<li><p>省略返回的标记 <code>return</code>:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> operation:(<span class="type">Double</span>) -&gt; <span class="type">Double</span></span><br><span class="line">operation <span class="operator">=</span> &#123; (op) <span class="keyword">in</span>  <span class="operator">-</span>op&#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure></div></li>
</ul>
<p>最后, 我们可以直接用 <code>$0</code>等替代传入的参数, 也就是省略了参数的名称!</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> operation:(<span class="type">Double</span>) -&gt; <span class="type">Double</span></span><br><span class="line">operation <span class="operator">=</span> &#123; <span class="operator">-</span><span class="variable">$0</span> &#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure></div>



<h4 id="闭包的常见使用"><a href="#闭包的常见使用" class="headerlink" title="闭包的常见使用"></a>闭包的常见使用</h4><p>e.g. </p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/swift.assets/image-20250412170605776.png"
                      alt="image-20250412170605776"
                ></p>
<h4 id="Trailing-Closure"><a href="#Trailing-Closure" class="headerlink" title="Trailing Closure"></a>Trailing Closure</h4><p>当闭包是函数的<strong>最后一个参数</strong>时，</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> result <span class="operator">=</span> applyTwice(<span class="number">3</span>, operation: &#123; <span class="variable">$0</span> <span class="operator">*</span> <span class="number">2</span> &#125;)</span><br></pre></td></tr></table></figure></div>

<p>可以改写成:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> result <span class="operator">=</span> applyTwice(<span class="number">3</span>) &#123; <span class="variable">$0</span> <span class="operator">*</span> <span class="number">2</span> &#125; <span class="comment">// result = 12</span></span><br></pre></td></tr></table></figure></div>



<h1 id="慕课学习杂记"><a href="#慕课学习杂记" class="headerlink" title="慕课学习杂记"></a>慕课学习杂记</h1><h4 id="something"><a href="#something" class="headerlink" title="something"></a>something</h4><ul>
<li><p>去官网学习新出现的技术</p>
<ul>
<li>codeML</li>
<li>张克俊老师?</li>
</ul>
</li>
<li><p>函数也可以赋值给变量</p>
</li>
</ul>
<h4 id="省略外部参数名"><a href="#省略外部参数名" class="headerlink" title="省略外部参数名"></a>省略外部参数名</h4><ul>
<li>外部参数名: 在函数调用的时候使用, 提高可读性;</li>
<li>内部参数名: 在函数体的内部使用</li>
</ul>
<p>如果如此定义:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">greet</span>(<span class="params">person</span> <span class="params">name</span>: <span class="type">String</span>)&#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Hello , <span class="subst">\(name)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>那么在调用的时候必须显示声明外部参数名:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">greet( person: <span class="string">&quot;Alice&quot;</span>)</span><br></pre></td></tr></table></figure></div>



<p>如果我们希望省略外部参数名, 就可以在定义函数的时候用 <code>_</code>来代替:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">greet</span>(<span class="keyword">_</span> <span class="params">name</span>: <span class="type">String</span>)&#123;</span><br><span class="line">  <span class="operator">...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<h4 id="高阶函数"><a href="#高阶函数" class="headerlink" title="高阶函数"></a>高阶函数</h4><p>我们可以让函数作为另一个函数的输入参数:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">addTwoInts</span>( <span class="keyword">_</span> <span class="params">a</span>: <span class="type">Int</span>, <span class="keyword">_</span> <span class="params">b</span>: <span class="type">Int</span>) -&gt; <span class="type">Int</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a<span class="operator">+</span>b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> mathFunction <span class="operator">=</span> addTwoInts</span><br><span class="line"></span><br><span class="line"><span class="comment">// 高阶函数</span></span><br><span class="line"><span class="keyword">func</span> <span class="title function_">printMathResults（_</span> mathFunction: (<span class="type">Int</span>, <span class="type">Int）</span>-&gt; <span class="type">Int</span>, <span class="keyword">_</span> a: <span class="type">Int</span>, <span class="keyword">_</span> b: <span class="type">Int</span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> result <span class="operator">=</span> mathFunction(a,b)</span><br><span class="line">  <span class="built_in">print</span>(result)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用</span></span><br><span class="line">printMathResults（addTwoInts， <span class="number">3</span>,<span class="number">5</span>）</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<blockquote>
<p>注意函数作为参数的时候, 类型的定义就是输入类型和返回类型, 也是用 <code>,</code> 来分隔不同的参数.</p>
</blockquote>
<hr>
<h4 id="内置的库"><a href="#内置的库" class="headerlink" title="内置的库"></a>内置的库</h4><p><code>AVFoudation</code>: 音频播放 </p>
<hr>
<ul>
<li><p>枚举内部也可以设置方法; </p>
</li>
<li><p>结构体本身不需要构造函数(因为swift存在对于结构体的默认构造) , 但是如果结构体内部的属性存在这样的属性:</p>
<ul>
<li>它可能是枚举内部的方法, 跟枚举的属性有关, 可能使用了 <code>switch</code>来根据枚举属性赋值.</li>
</ul>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Type</span>&#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="type">Cike</span></span><br><span class="line">  <span class="keyword">case</span> <span class="operator">...</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">func</span> <span class="title function_">blood</span>()-&gt; <span class="type">Double</span>&#123;</span><br><span class="line">    <span class="keyword">switch</span> <span class="keyword">self</span>&#123;</span><br><span class="line">      <span class="keyword">case</span> .<span class="type">Cike</span>: <span class="keyword">return</span> <span class="number">10</span></span><br><span class="line">      <span class="keyword">case</span> .<span class="type">Fashi</span>: <span class="keyword">return</span> <span class="operator">...</span></span><br><span class="line">      <span class="operator">...</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Card</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> country: <span class="type">Country</span></span><br><span class="line">  vat type: <span class="type">Type</span></span><br><span class="line">  <span class="keyword">var</span> blood: <span class="type">Double</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">init</span> (<span class="params">country</span>: <span class="type">Country</span>, <span class="params">type</span>: <span class="type">Type</span>)&#123;</span><br><span class="line">    <span class="keyword">self</span>.country <span class="operator">=</span> country</span><br><span class="line">    <span class="keyword">self</span>.type <span class="operator">=</span> type;</span><br><span class="line">    blood <span class="operator">=</span> type.blood</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>


</li>
<li><p>结构体和枚举属于 <u>值类型</u>, 如果赋值的时候进行拷贝操作;</p>
<ul>
<li>如果结构体声明为 <code>let</code>, 即使属性是变量, 那么也无法修改内部的属性,</li>
</ul>
</li>
<li><p>类是引用类型, 赋值的时候使得左值指向了同样的内存区域, 也就是信息保持一致, 更改同步</p>
<ul>
<li>如果我们将类声明为常量, 相当于cpp的指针常量, 也就是说类内部的属性可以更改, 但是无法修改这个量指向的内存区域.</li>
</ul>
</li>
</ul>
<h4 id="计算属性-1"><a href="#计算属性-1" class="headerlink" title="计算属性"></a>计算属性</h4><p>访问的时候动态计算得到.</p>
<p>下面通过一个矩形的例子来说明:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> x <span class="operator">=</span> <span class="number">0.0</span></span><br><span class="line">  <span class="keyword">var</span> y <span class="operator">=</span> <span class="number">0.0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Size</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> width <span class="operator">=</span> <span class="number">0.0</span></span><br><span class="line">  <span class="keyword">var</span> height <span class="operator">=</span> <span class="number">0.0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Rect</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> origin <span class="operator">=</span> <span class="type">Point</span>()</span><br><span class="line">  <span class="keyword">var</span> size <span class="operator">=</span> <span class="type">Size</span>()</span><br><span class="line">  <span class="keyword">var</span> center: <span class="type">Point</span>&#123;</span><br><span class="line">    <span class="keyword">get</span>&#123;</span><br><span class="line">      <span class="keyword">let</span> centerX <span class="operator">=</span> origin.x <span class="operator">+</span> (size.width <span class="operator">/</span> <span class="number">2</span>)</span><br><span class="line">      <span class="keyword">let</span> centerY <span class="operator">=</span> orgin.y <span class="operator">+</span> (size.height <span class="operator">/</span><span class="number">2</span> )</span><br><span class="line">      <span class="keyword">return</span> <span class="type">Point</span>(x: centerX, y: centerY)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">set</span>(newCenter)&#123;</span><br><span class="line">      origin.x <span class="operator">=</span> newCenter.x <span class="operator">-</span> (size.width <span class="operator">/</span> <span class="number">2</span>)</span><br><span class="line">      origin.y <span class="operator">=</span> newCenter.y <span class="operator">-</span> (size.height <span class="operator">/</span> <span class="number">2</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>上述完成了结构体的计算属性的定义, 其中 <code>get</code>部分也可以优化为:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">get</span>&#123;</span><br><span class="line">	<span class="type">Point</span>(x: origin.x <span class="operator">+</span> (size.width <span class="operator">/</span> <span class="number">2</span>),</span><br><span class="line">        y: orgin.y <span class="operator">+</span> (size.height <span class="operator">/</span><span class="number">2</span> ) )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<blockquote>
<p>这是因为, 如果 <code>get</code> 部分只存在一个表达式,  就会自动将其返回, 不需要显式声明 <code>return</code>关键字.</p>
</blockquote>
<p>然后可以如此应用:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> currCenter <span class="operator">=</span> rectElement.center</span><br><span class="line"></span><br><span class="line">rectElement.center <span class="operator">=</span> <span class="type">Point</span>(x:<span class="number">20</span>, y:<span class="number">50</span>)</span><br></pre></td></tr></table></figure></div>



<p><code>set</code>提供了语法糖, 也就是可以直接访问oldValue 和  newValue, 因此我们可以如此改写:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span>&#123;</span><br><span class="line">  origin.x <span class="operator">=</span> newValue.x <span class="operator">-</span> (size.width <span class="operator">/</span> <span class="number">2</span>)</span><br><span class="line">  origin.y <span class="operator">=</span> newValue.y <span class="operator">-</span> (size.height <span class="operator">/</span> <span class="number">2</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<blockquote>
<p>[!NOTE]</p>
<p>对于只读的计算属性, 由于不存在 <code>set</code>, 我们可以直接在花括号内定义返回内容.</p>
</blockquote>
<hr>
<ul>
<li><p>声明 <code>static</code> , 表示这个属性或者方法属于整个类型而非某个实例. 此时相应的, 我们使用 <code>&lt;tyepName&gt;.&lt;strtic attribute&gt;</code>的方式来访问.</p>
</li>
<li><p>子面量本身是不可修改的, 下面的拓展中, 如果写作  <code>var someInt = 3.square()</code>就会报错</p>
</li>
</ul>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extension</span> <span class="title class_">Int</span>&#123;</span><br><span class="line">    <span class="keyword">mutating</span> <span class="keyword">func</span> <span class="title function_">square</span>()&#123;</span><br><span class="line">        <span class="keyword">self</span> <span class="operator">=</span> <span class="keyword">self</span> <span class="operator">*</span> <span class="keyword">self</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> someInt <span class="operator">=</span> <span class="number">3</span></span><br><span class="line">someInt.square()</span><br></pre></td></tr></table></figure></div>



<hr>
<p>控制器存在5种状态:</p>
<ul>
<li>未加载</li>
<li>将要出现</li>
<li>出现</li>
<li>将要消失</li>
<li>已经消失</li>
</ul>
<p>APP的状态:</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="swift.assets/image-20250413182851979.png"
                      alt="image-20250413182851979" style="zoom:33%;" 
                >

<p><code>UiSceneDelegate</code>用于响应基于 <code>scene</code> 的生命周期事件.</p>
<p>可以使用属性的 <code>didset</code>来便捷地检测变化并快速修改:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> score <span class="operator">=</span> <span class="number">0</span>&#123;</span><br><span class="line">  <span class="keyword">didSet</span>&#123;</span><br><span class="line">    <span class="keyword">self</span>.gameScoreLabel.text <span class="operator">=</span> <span class="string">&quot;Score: <span class="subst">\(score)</span>&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<ul>
<li><code>viewController</code>是新的页面;</li>
<li><code>view</code>是视图, 可以叠加在页面上.</li>
<li><code>UIAlertController</code>组件相当于警示的弹窗组件</li>
</ul>
<h3 id="作图和绘画"><a href="#作图和绘画" class="headerlink" title="作图和绘画"></a>作图和绘画</h3><h4 id="CG"><a href="#CG" class="headerlink" title="CG"></a>CG</h4><ul>
<li><p><code>CGFloat</code>用于二维坐标系中的坐标数据:</p>
<ul>
<li><code>let coor_x = CGFloat(10.5)</code></li>
</ul>
</li>
<li><p><code>CGPoint(x: .. , y:...)</code></p>
</li>
<li><p><code>CGSize</code> 包含width和height属性的结构体;</p>
</li>
<li><p><code>CGRect</code>包含点和尺寸的矩形</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">CGRect</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> origin: <span class="type">CGPoint</span></span><br><span class="line">  <span class="keyword">var</span> size: <span class="type">CGSize</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<ul>
<li><p>其他属性</p>
</li>
<li><p>e.g.</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> minX: <span class="type">CGPoint</span></span><br><span class="line"><span class="keyword">var</span> midY: <span class="type">CGPoint</span></span><br><span class="line">intersects(<span class="type">CGRect</span>) -&gt; <span class="type">Bool</span> <span class="comment">// 判断是否存在交集</span></span><br><span class="line">contains(<span class="type">CGPoint</span>) -&gt; <span class="type">Bool</span> <span class="comment">// 是否包含点.</span></span><br></pre></td></tr></table></figure></div></li>
</ul>
</li>
</ul>
<p>最小单元是 <code>Point</code>而非像素点.</p>
<p>bound表示视图内部允许绘制的区域:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> bounds: <span class="type">CGRect</span> <span class="comment">// 也就是一个矩形</span></span><br></pre></td></tr></table></figure></div>

<p>frame	视图在父视图中的位置:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> frame: <span class="type">CGRect</span></span><br></pre></td></tr></table></figure></div>



<h4 id="自定义视图"><a href="#自定义视图" class="headerlink" title="自定义视图"></a>自定义视图</h4><p>绘制自定义视图通常通过创建一个自定义的 UIView 子类，并重写 draw(_:) 方法来实现.</p>
<p>playGround中的实例:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"><span class="keyword">import</span> PlaygroundSupport</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CustomView</span>: <span class="title class_ inherited__">UIView</span> &#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">init</span>(<span class="params">frame</span>: <span class="type">CGRect</span>) &#123;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(frame: frame)</span><br><span class="line">        <span class="keyword">self</span>.backgroundColor <span class="operator">=</span> .white <span class="comment">// 设置背景颜色</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">required</span> <span class="keyword">init?</span>(<span class="params">coder</span>: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">        <span class="built_in">fatalError</span>(<span class="string">&quot;init(coder:) has not been implemented&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">func</span> <span class="title function_">draw</span>(<span class="keyword">_</span> <span class="params">rect</span>: <span class="type">CGRect</span>) &#123;</span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> context <span class="operator">=</span> <span class="type">UIGraphicsGetCurrentContext</span>() <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 绘制一个圆形</span></span><br><span class="line">        context.setFillColor(<span class="type">UIColor</span>.blue.cgColor) <span class="comment">// 设置填充颜色</span></span><br><span class="line">        context.fillEllipse(in: rect) <span class="comment">// 绘制填充的圆</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 绘制一个矩形</span></span><br><span class="line">        context.setStrokeColor(<span class="type">UIColor</span>.black.withAlphaComponent(<span class="number">0.6</span>).cgColor) <span class="comment">// 设置能见度</span></span><br><span class="line">        context.setLineWidth(<span class="number">5</span>)</span><br><span class="line">        context.stroke(rect.insetBy(dx: <span class="number">10</span>, dy: <span class="number">10</span>)) <span class="comment">// 绘制矩形边框，留出间距</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建自定义视图实例</span></span><br><span class="line"><span class="keyword">let</span> customView <span class="operator">=</span> <span class="type">CustomView</span>(frame: <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">200</span>, height: <span class="number">200</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 显示在 Playground 的 live view</span></span><br><span class="line"><span class="type">PlaygroundPage</span>.current.liveView <span class="operator">=</span> customView</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>



<ul>
<li><code>touchesBegan</code>–WWDC</li>
<li><code>SCNVector3</code>是三维向量</li>
<li><code>DispathchQueue</code>表示创建一个异步的进程</li>
</ul>
<h3 id="传感器"><a href="#传感器" class="headerlink" title="传感器"></a>传感器</h3><ul>
<li>加速度的方向伴随手机的头部旋转保持不变;<ul>
<li>以 <code>g</code> 为描述单位;</li>
<li>面向使用者的方向是 <code>z</code> 轴.</li>
</ul>
</li>
<li>陀螺仪<ul>
<li>记录对应用三个轴</li>
<li>roll, pitch, yaw</li>
</ul>
</li>
</ul>
<h3 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h3><h2 id="结绳记事"><a href="#结绳记事" class="headerlink" title="结绳记事"></a>结绳记事</h2><ul>
<li><p><a class="link"   target="_blank" rel="noopener" href="https://www.icourse163.org/learn/ZJU-1450024180?tid=1474143513#/learn/content?type=detail&id=1262245274&cid=1299836384&contentid=1217938866" >操作演示<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a>.</p>
</li>
<li><p>按住 <code>ctrl</code>将视图中的组件拖放到代码中.</p>
</li>
<li><p>右下角的几个功能:</p>
<ul>
<li>约束;</li>
<li>选择视图</li>
</ul>
</li>
<li><p><code>ctrl + option + cmd + enter</code> 快速显示代码区域</p>
</li>
<li><p><a class="link"   target="_blank" rel="noopener" href="https://www.icourse163.org/learn/ZJU-1450024180?tid=1474143513#/learn/content?type=detail&id=1262245274&cid=1299836386&contentid=1217092922" >组件使用<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
<ul>
<li>50:00 左右介绍了两种类型和交互</li>
</ul>
</li>
<li><p>按住<code>optional</code>然后 hover 在类上, 可以显示对应的基础操作.</p>
</li>
<li><p>可选值的本质是枚举类型!</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Optional</span>&lt;<span class="type">T</span>&gt;&#123;</span><br><span class="line">  <span class="keyword">case</span> none</span><br><span class="line">  <span class="keyword">case</span> <span class="keyword">some</span>(<span class="operator">&lt;</span><span class="type">T</span><span class="operator">&gt;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
</li>
<li><p><a class="link"   target="_blank" rel="noopener" href="https://www.icourse163.org/learn/ZJU-1450024180?tid=1474143513#/learn/content?type=detail&id=1262245305&sm=1" >画图和动画<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
</li>
<li><p><a class="link"   target="_blank" rel="noopener" href="https://www.icourse163.org/learn/ZJU-1450024180?tid=1474143513#/learn/content?type=detail&id=1262245309&sm=1" >coreML<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
</li>
<li><p>在项目中显示Md格式:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*:</span></span><br><span class="line"><span class="comment">...</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></div>
</li>
<li><p>选择在运行时隐藏实际存在的代码:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//#-hidden-code</span></span><br><span class="line"><span class="keyword">import</span> PlaygroundSupport</span><br><span class="line"><span class="operator">...</span></span><br><span class="line"><span class="comment">//#-end-hidden-code</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></li>
</ul>
<h1 id="Swift-UI"><a href="#Swift-UI" class="headerlink" title="Swift UI"></a>Swift UI</h1><ul>
<li><a class="link"   target="_blank" rel="noopener" href="https://www.icourse163.org/learn/ZJU-1450024180?tid=1474143513#/learn/content?type=detail&id=1262245315&cid=1299836440&contentid=1218091551" >慕课的链接<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></li>
<li><a class="link"   target="_blank" rel="noopener" href="https://www.hackingwithswift.com/100/swiftui/16" >by now<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></li>
<li>SixD: 开箱即用的UI设计等.</li>
<li><a class="link"   target="_blank" rel="noopener" href="https://www.hackingwithswift.com/glossary" >术语表<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></li>
</ul>
<h2 id="AR"><a href="#AR" class="headerlink" title="AR"></a>AR</h2><ul>
<li><a class="link"   target="_blank" rel="noopener" href="https://www.createwithswift.com/creating-an-augmented-reality-app-in-swiftui-using-realitykit-and-arkit/" >helpful links<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></li>
<li><a class="link"   target="_blank" rel="noopener" href="https://developer.apple.com/documentation/realitykit/?ref=createwithswift.com" >官方文档<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></li>
</ul>
<h2 id="动画-1"><a href="#动画-1" class="headerlink" title="动画"></a>动画</h2><h4 id="缩放变换"><a href="#缩放变换" class="headerlink" title="缩放变换"></a>缩放变换</h4><div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">NavigationLink</span>&#123;</span><br><span class="line">  <span class="type">BraceletEditor</span>(bracelet)</span><br><span class="line">  .navigationTransitionStyle(</span><br><span class="line">  .zoom(</span><br><span class="line">  	sourceID:bracelet.id,</span><br><span class="line">  	in:braceletList</span><br><span class="line">  	)</span><br><span class="line">  )</span><br><span class="line">&#125;label:&#123;</span><br><span class="line">  <span class="type">BraceletPreview</span>(bracelet)</span><br><span class="line">&#125;</span><br><span class="line">.matchedTansitionSource(</span><br><span class="line">	id:bracelet.id,</span><br><span class="line">  in:braceletList</span><br><span class="line">)</span><br></pre></td></tr></table></figure></div>





<h2 id="Symbol-6"><a href="#Symbol-6" class="headerlink" title="Symbol 6"></a>Symbol 6</h2><h3 id="动画-2"><a href="#动画-2" class="headerlink" title="动画"></a>动画</h3><ul>
<li>使用 <code>晃动</code> 在复杂的UI中提示可交互性.</li>
<li><code>旋转</code>动画来表示正在进行的进程</li>
</ul>
<h2 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h2><h4 id="磨砂效果"><a href="#磨砂效果" class="headerlink" title="磨砂效果"></a>磨砂效果</h4><div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">VStack</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line">.frame(width: <span class="number">200</span>, height: <span class="number">200</span>)</span><br><span class="line">.background(.ultraThinMaterial, in: <span class="type">RoundedRectangle</span>(cornerRadius: <span class="number">20</span>, style: .continuous))</span><br></pre></td></tr></table></figure></div>



<h4 id="搜索栏"><a href="#搜索栏" class="headerlink" title="搜索栏"></a>搜索栏</h4><ul>
<li><p>状态管理:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 存储搜索文本</span></span><br><span class="line"><span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> searchText <span class="operator">=</span> <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 可选：跟踪搜索是否处于活动状态</span></span><br><span class="line"><span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> isSearching <span class="operator">=</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure></div>
</li>
<li><p>数据过滤模式</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 基本过滤计算属性模板</span></span><br><span class="line"><span class="keyword">var</span> filteredItems: [<span class="type">ItemType</span>] &#123;</span><br><span class="line">    <span class="keyword">if</span> searchText.isEmpty &#123;</span><br><span class="line">        <span class="keyword">return</span> originalItems</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> originalItems.filter &#123; item <span class="keyword">in</span></span><br><span class="line">            <span class="comment">// 根据需要自定义过滤条件</span></span><br><span class="line">            item.name.localizedCaseInsensitiveContains(searchText) <span class="operator">||</span></span><br><span class="line">            item.description.localizedCaseInsensitiveContains(searchText)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 处理嵌套数据结构的过滤模板</span></span><br><span class="line"><span class="keyword">var</span> filteredNestedItems: [<span class="type">ParentType</span>] &#123;</span><br><span class="line">    <span class="keyword">if</span> searchText.isEmpty &#123;</span><br><span class="line">        <span class="keyword">return</span> originalParentItems</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> originalParentItems.compactMap &#123; parent <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">let</span> matchedChildren <span class="operator">=</span> parent.children.filter &#123; child <span class="keyword">in</span></span><br><span class="line">                child.name.localizedCaseInsensitiveContains(searchText)</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> matchedChildren.isEmpty &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// 创建包含匹配子项的新父项</span></span><br><span class="line">                <span class="keyword">return</span> <span class="type">ParentType</span>(id: parent.id, name: parent.name, children: matchedChildren)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>搜索UI中的实现:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">NavigationStack</span> &#123;</span><br><span class="line">    <span class="type">List</span> &#123;</span><br><span class="line">        <span class="comment">// 使用过滤后的数据源</span></span><br><span class="line">        <span class="type">ForEach</span>(filteredItems) &#123; item <span class="keyword">in</span></span><br><span class="line">            <span class="comment">// 列表项视图</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    .navigationTitle(<span class="string">&quot;标题&quot;</span>)</span><br><span class="line">    .searchable(text: <span class="variable">$searchText</span>, prompt: <span class="string">&quot;搜索提示文字&quot;</span>)</span><br><span class="line">    <span class="comment">// 可选：添加搜索建议</span></span><br><span class="line">    .searchSuggestions &#123;</span><br><span class="line">        <span class="type">ForEach</span>(suggestions, id: \.<span class="keyword">self</span>) &#123; suggestion <span class="keyword">in</span></span><br><span class="line">            <span class="type">Text</span>(suggestion).searchCompletion(suggestion)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h4 id="左右适应的外边距"><a href="#左右适应的外边距" class="headerlink" title="左右适应的外边距"></a>左右适应的外边距</h4><p>通过 <code>HStack</code>与  <code>space</code>实现卡片的自适应扩展, 同时利用 <code>.frame(maxwidth:...)</code>来设置一个最大的卡片宽度</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">HStack</span>&#123;</span><br><span class="line">    <span class="type">Spacer</span>(minLength: <span class="number">10</span>)</span><br><span class="line">  </span><br><span class="line">    <span class="type">Text</span>(item.description)</span><br><span class="line">        .padding()</span><br><span class="line">        .background(<span class="type">Color</span>(.systemGray6))</span><br><span class="line">        .overlay(</span><br><span class="line">            <span class="type">RoundedRectangle</span>(cornerRadius: <span class="number">10</span>) <span class="comment">// 10为圆角半径，可调整</span></span><br><span class="line">                .stroke(<span class="type">Color</span>.gray, lineWidth: <span class="number">1</span>) <span class="comment">// 边框颜色和宽度</span></span><br><span class="line">        )</span><br><span class="line">        .clipShape(<span class="type">RoundedRectangle</span>(cornerRadius: <span class="number">10</span>))</span><br><span class="line">    <span class="comment">// 保证背景和边框都圆角</span></span><br><span class="line">    .frame(maxWidth: <span class="number">400</span>) <span class="comment">// 最大宽度限制</span></span><br><span class="line"></span><br><span class="line">    <span class="type">Spacer</span>(minLength: <span class="number">10</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p><code>Spacer(minLength: 10)</code> 表示<strong>保证自己不会小于 minLength</strong>. </p>
<p>上述的 <code>Spacer</code>会压缩卡片的内容, 如果希望直接设置卡片在父容器中的左右外边距, 应该在卡片的内部使用 <code>padding</code>:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Text</span>(item.description)</span><br><span class="line">    .padding(.horizontal, <span class="number">24</span>) <span class="comment">// 卡片内容内边距</span></span><br><span class="line">    .padding(.vertical, <span class="number">12</span>)</span><br><span class="line">    .background(<span class="type">Color</span>(.systemGray6))</span><br><span class="line">    .overlay(</span><br><span class="line">        <span class="type">RoundedRectangle</span>(cornerRadius: <span class="number">10</span>)</span><br><span class="line">            .stroke(<span class="type">Color</span>.gray, lineWidth: <span class="number">2</span>)</span><br><span class="line">    )</span><br><span class="line">    .clipShape(<span class="type">RoundedRectangle</span>(cornerRadius: <span class="number">10</span>))</span><br><span class="line">    .padding(.horizontal, <span class="number">20</span>) <span class="comment">// 整个卡片距离父视图左右20pt</span></span><br></pre></td></tr></table></figure></div>



<h4 id="全局统一样式"><a href="#全局统一样式" class="headerlink" title="全局统一样式"></a>全局统一样式</h4><div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@main</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">MyApp</span>: <span class="title class_ inherited__">App</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">Scene</span> &#123;</span><br><span class="line">        <span class="type">WindowGroup</span> &#123;</span><br><span class="line">            <span class="type">ContentView</span>()</span><br><span class="line">                .buttonStyle(<span class="type">ShadowButtonStyle</span>(radius: <span class="number">10</span>))</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<h4 id="参数标签和参数名"><a href="#参数标签和参数名" class="headerlink" title="参数标签和参数名"></a>参数标签和参数名</h4><ul>
<li>参数标签用于函数调用时;</li>
<li>参数名用于函数内部的参数名称.</li>
</ul>
<p>e.g.:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">greet</span>(<span class="params">person</span> <span class="params">atName</span>: <span class="type">String</span>) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Hello, <span class="subst">\(atName)</span>!&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">greet(person: <span class="string">&quot;Alice&quot;</span>) <span class="comment">// 输出：Hello, Alice!</span></span><br></pre></td></tr></table></figure></div>



<p>也可以使用 <code>_</code>来省略调用时的参数标签:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">greet</span>(<span class="keyword">_</span> <span class="params">name</span>: <span class="type">String</span>) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Hello, <span class="subst">\(name)</span>!&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">greet(<span class="string">&quot;Alice&quot;</span>) <span class="comment">// 输出：Hello, Alice!</span></span><br></pre></td></tr></table></figure></div>





<h4 id="Alert"><a href="#Alert" class="headerlink" title="Alert"></a>Alert</h4><p>swift UI中的弹窗提示同样通过本地的 <code>@State</code>变量来实现:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> showingPaymentAlert <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line">.alert(<span class="string">&quot;Order confirmed&quot;</span>, isPresented: <span class="variable">$showingPaymentAlert</span>) &#123;</span><br><span class="line">    <span class="comment">// add buttons here</span></span><br><span class="line">&#125; message: &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Your total was <span class="subst">\(totalPrice)</span> – thank you!&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>设置按钮来改变可见的状态:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Button</span>(<span class="string">&quot;Confirm order&quot;</span>) &#123;</span><br><span class="line">    showingPaymentAlert.toggle()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<h4 id="自定义绑定"><a href="#自定义绑定" class="headerlink" title="自定义绑定"></a>自定义绑定</h4><p>我们也可以使用 <code>Binding</code> 类型手动创建绑定，该类型可以提供自定义 <code>get</code> 和 <code>set</code> 闭包，以便在读取或写入值时运行。</p>
<h4 id="Foreach"><a href="#Foreach" class="headerlink" title="Foreach"></a>Foreach</h4><div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ForEach</span>(item.restrictions) &#123; restriction <span class="keyword">in</span></span><br><span class="line">    <span class="type">Text</span>(restriction)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>此时, 要求 <code>item.restrictions</code> 具有可唯一标识的 <code>id</code> 字段.</p>
<ul>
<li><p>如果内容本身就是唯一标识, 比如说遍历的内容是字符串数组, 那么可以如此声明:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ForEach</span>(item.restrictions, id: \.<span class="keyword">self</span>) &#123; restriction <span class="keyword">in</span></span><br><span class="line">    <span class="type">Text</span>(restriction)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h4 id="Spacer"><a href="#Spacer" class="headerlink" title="Spacer()"></a>Spacer()</h4><p>用于填充剩余的空间</p>
<ul>
<li>使用 <code>offset(x:.., y:...)</code>来调节位置, 左上角是原点.</li>
</ul>
<h4 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h4><ul>
<li><p>作用: 用于存储独立于视图的、长期存在的数据;</p>
</li>
<li><p>e.g.</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// App.swift</span></span><br><span class="line"><span class="meta">@StateObject</span> <span class="keyword">var</span> order <span class="operator">=</span> <span class="type">Order</span>()</span><br></pre></td></tr></table></figure></div>
</li>
<li><p><code>@StateObject</code> 属性包装器负责在<u>应用程序的整个生命周期中</u>保持对象处于活动状态。</p>
</li>
<li><p>需要在创建视图结构体的时候传递:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">WindowGroup</span> &#123;</span><br><span class="line">    <span class="type">ContentView</span>()</span><br><span class="line">        .environmentObject(order)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>为了让swift知道什么时候更新视图, 常用的是声明 <code>@Published</code>属性包装器——足以让它更新任何正在监视更改的 SwiftUI 视图.</p>
</li>
<li><p>同时声明对应的对象遵循可观测协议: <strong>ObservableObject</strong>.</p>
</li>
</ul>
<p>我们可以使用 <code>@EnvironmentObject</code>来访问环境中的共享数据, 也就是传递上一步已经在父视图中创建和管理的对象.</p>
<p>e.g.</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UserData</span>: <span class="title class_ inherited__">ObservableObject</span> &#123;</span><br><span class="line">    <span class="meta">@Published</span> <span class="keyword">var</span> name: <span class="type">String</span> <span class="operator">=</span> <span class="string">&quot;John&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="meta">@StateObject</span> <span class="keyword">private</span> <span class="keyword">var</span> userData <span class="operator">=</span> <span class="type">UserData</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ChildView</span>().environmentObject(userData)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ChildView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="meta">@EnvironmentObject</span> <span class="keyword">var</span> userData: <span class="type">UserData</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">Text</span>(userData.name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<p>使用 <code>@State</code>来声明简单的本地值——比如整数和字符串.</p>
<ul>
<li><p>建议将其声明为 <code>private</code>, e.g.</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> paymentType <span class="operator">=</span> <span class="string">&quot;Cash&quot;</span></span><br></pre></td></tr></table></figure></div></li>
</ul>
<h4 id="菜单视图"><a href="#菜单视图" class="headerlink" title="菜单视图"></a>菜单视图</h4><p>为了将菜单视图存放在一个选项卡当中, 我们需要新建一个视图, 用来作为容器:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">MainView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">TabView</span> &#123;</span><br><span class="line">            <span class="type">ContentView</span>()</span><br><span class="line">                .tabItem &#123;</span><br><span class="line">                    <span class="type">Label</span>(<span class="string">&quot;Menu&quot;</span>, systemImage: <span class="string">&quot;list.dash&quot;</span>)</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            <span class="type">OrderView</span>()</span><br><span class="line">                .tabItem &#123;</span><br><span class="line">                    <span class="type">Label</span>(<span class="string">&quot;Order&quot;</span>, systemImage: <span class="string">&quot;square.and.pencil&quot;</span>)</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<blockquote>
<p>页面级别的切换.</p>
</blockquote>
<p>使用枚举与子页面的内容分区:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="keyword">enum</span> <span class="title class_">Section</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> cats</span><br><span class="line">        <span class="keyword">case</span> dogs</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> selectedTab <span class="operator">=</span> <span class="type">Section</span>.cats</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">TabView</span>(selection: <span class="variable">$selectedTab</span>) &#123;</span><br><span class="line">            <span class="type">Tab</span>(<span class="string">&quot;Cats&quot;</span>, systemImage: <span class="string">&quot;cat&quot;</span>, value: .cats) &#123;</span><br><span class="line">                <span class="type">Button</span>(<span class="string">&quot;Go to Dogs&quot;</span>) &#123;</span><br><span class="line">                    selectedTab <span class="operator">=</span> .dogs</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="type">Tab</span>(<span class="string">&quot;Dogs&quot;</span>, systemImage: <span class="string">&quot;dog&quot;</span>, value: .dogs) &#123;</span><br><span class="line">                <span class="type">Button</span>(<span class="string">&quot;Go to Cats&quot;</span>) &#123;</span><br><span class="line">                    selectedTab <span class="operator">=</span> .cats</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>





<h2 id="合适的修饰符"><a href="#合适的修饰符" class="headerlink" title="合适的修饰符"></a>合适的修饰符</h2><ul>
<li><p>图像自动调节尺寸:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Image</span>(item.mainImage)</span><br><span class="line">    .resizable()</span><br><span class="line">    .scaledToFit()</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h4 id="设置阴影"><a href="#设置阴影" class="headerlink" title="设置阴影"></a>设置阴影</h4><div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.shadow(color: .black.opacity(<span class="number">0.2</span>), </span><br><span class="line">        radius: <span class="number">15</span>, x: <span class="number">0</span>, y: <span class="number">10</span>)</span><br></pre></td></tr></table></figure></div>



<h4 id="为按钮设置动画"><a href="#为按钮设置动画" class="headerlink" title="为按钮设置动画"></a>为按钮设置动画</h4><div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> showingWelcome <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span> &#123;</span><br><span class="line">            <span class="type">Toggle</span>(<span class="string">&quot;Toggle label&quot;</span>, isOn: <span class="variable">$showingWelcome</span>.animation())</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> showingWelcome &#123;</span><br><span class="line">                <span class="type">Text</span>(<span class="string">&quot;Hello World&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>可以进一步设置, 比如弹簧的渐入渐出:</p>
<div class="code-container" data-rel="Swift"><figure class="iseeu highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Toggle</span>(<span class="string">&quot;Toggle label&quot;</span>, isOn: <span class="variable">$showingWelcome</span>.animation(.spring()))</span><br></pre></td></tr></table></figure></div>



<h2 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h2><h4 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h4><ul>
<li><code>ctrl</code>按住后点击  <code>VStack</code>可以快速地将其添加到 <code>ZStack</code>当中<ul>
<li>颜色的设置需要通过 <code>ZStack</code>来实现.</li>
</ul>
</li>
<li><code>option</code>可以显示当前类的介绍</li>
<li></li>
</ul>
<p>学习路线:</p>
<ol>
<li>学习 Swift 基础语法</li>
<li>上手 SwiftUI 基础控件（Text、Button、Image、List、NavigationStack 等）</li>
<li>学会使用 @State、@Binding 等状态管理属性</li>
<li>尝试做一个简单的 App（比如 ToDo List、小笔记本）</li>
<li>慢慢接触更复杂的功能，比如动画、数据持久化（CoreData）、网络请求（URLSession）</li>
</ol>
<h4 id="第二周：SwiftUI-基础入门"><a href="#第二周：SwiftUI-基础入门" class="headerlink" title="第二周：SwiftUI 基础入门"></a><strong>第二周：SwiftUI 基础入门</strong></h4><p><strong>目标：</strong></p>
<ul>
<li>理解 SwiftUI 的基本概念和架构。</li>
<li>掌握常用的 SwiftUI 视图和修饰符。</li>
</ul>
<ol>
<li><strong>SwiftUI 概述：</strong><ul>
<li>声明式语法与传统 UIKit 的区别</li>
<li>SwiftUI 的视图层次结构</li>
</ul>
</li>
<li><strong>常用视图组件：</strong><ul>
<li>Text、Image、Button 等基本控件的使用</li>
<li>视图修饰符的应用，如 .font()、.foregroundColor()、.padding() 等</li>
</ul>
</li>
<li><strong>布局系统：</strong><ul>
<li>使用 HStack、VStack 和 ZStack 进行视图布局</li>
<li>Spacer 和 Divider 的使用</li>
</ul>
</li>
</ol>
<p><strong>推荐资源：</strong></p>
<ul>
<li><strong>Hacking with Swift 的 100 天 SwiftUI：</strong> <a class="link"   target="_blank" rel="noopener" href="https://www.hackingwithswift.com/100/swiftui" >100 Days of SwiftUI<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></li>
<li><strong>AppCoda 的 SwiftUI 教程：</strong> <a class="link"   target="_blank" rel="noopener" href="https://www.appcoda.com/swiftui/" >AppCoda - Mastering SwiftUI<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></li>
</ul>
<h4 id="第三周：状态管理与数据绑定"><a href="#第三周：状态管理与数据绑定" class="headerlink" title="第三周：状态管理与数据绑定"></a><strong>第三周：状态管理与数据绑定</strong></h4><p><strong>目标：</strong></p>
<ul>
<li>理解并应用 SwiftUI 的状态管理机制。</li>
<li>掌握数据绑定和视图更新的原理。</li>
</ul>
<p><strong>学习内容：</strong></p>
<ol>
<li><strong>状态管理：</strong><ul>
<li>使用 @State 管理视图内部状态</li>
<li>使用 @Binding 在父子视图之间传递状态</li>
<li>使用 @ObservedObject 和 @EnvironmentObject 管理复杂数据模型</li>
</ul>
</li>
<li><strong>数据绑定：</strong><ul>
<li>双向绑定的实现</li>
<li>数据变化如何驱动视图更新</li>
</ul>
</li>
</ol>
<p><strong>推荐资源：</strong></p>
<ul>
<li><strong>SwiftUI 官方文档：</strong> <a class="link"   target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui" >SwiftUI Documentation<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></li>
<li><strong>Design+Code 的 SwiftUI 教程：</strong> <a class="link"   target="_blank" rel="noopener" href="https://designcode.io/swiftui" >Design+Code - SwiftUI for iOS 17<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></li>
</ul>
<h4 id="第四周：导航、列表与高级交互"><a href="#第四周：导航、列表与高级交互" class="headerlink" title="第四周：导航、列表与高级交互"></a><strong>第四周：导航、列表与高级交互</strong></h4><p><strong>目标：</strong></p>
<ul>
<li>掌握 SwiftUI 中的导航和列表视图。</li>
<li>实现复杂的用户交互和动画效果</li>
</ul>
<p><strong>学习内容：</strong></p>
<ol>
<li><strong>导航与路由：</strong><ul>
<li>使用 NavigationView 和 NavigationLink 实现页面导航</li>
<li>传递数据到下一个视图</li>
</ul>
</li>
<li><strong>列表视图：</strong><ul>
<li>使用 List 展示数据集合</li>
<li>自定义列表行和支持删除、移动操作</li>
</ul>
</li>
<li><strong>动画与手势：</strong><ul>
<li>添加基本动画效果</li>
<li>处理手势交互，如拖拽、缩放等</li>
</ul>
</li>
</ol>
<p><strong>推荐资源：</strong></p>
<ul>
<li><strong>Raywenderlich 的 SwiftUI 教程：</strong> <a class="link"   target="_blank" rel="noopener" href="https://www.raywenderlich.com/books/swiftui-apprentice" >Raywenderlich - SwiftUI Apprentice<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></li>
<li><strong>Big Mountain Studio 的免费电子书：</strong> <a class="link"   target="_blank" rel="noopener" href="https://www.bigmountainstudio.com/free-swiftui-book" >SwiftUI Views Quick Start<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></li>
</ul>

		</div>

		
		<div class="post-copyright-info w-full my-8 px-2 sm:px-6 md:px-8">
			<div class="article-copyright-info-container">
    <ul>
        <li><strong>标题:</strong> Swift学习摘记</li>
        <li><strong>作者:</strong> ffy</li>
        <li><strong>创建于
                :</strong> 2025-04-17 20:21:21</li>
        
            <li>
                <strong>更新于
                    :</strong> 2025-05-08 23:24:06
            </li>
        
        <li>
            <strong>链接:</strong> https://ffy6511.github.io/2025/04/17/swift/
        </li>
        <li>
            <strong>
                版权声明:
            </strong>
            

            
                本文章采用 <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY-NC-SA 4.0</a> 进行许可。
            
        </li>
    </ul>
</div>

		</div>
		

		

		
  <div class="recommended-article px-2 sm:px-6 md:px-8">
   <div class="recommended-desktop">
    <div class="recommended-article-header text-xl md:text-3xl font-bold mt-10">
     <i aria-hidden="true"></i><span>推荐阅读</span>
    </div>
    <div class="recommended-article-group"><a class="recommended-article-item" href="/2025/01/09/编程语言/JavaScript/" title="JavaScript" rel="bookmark">
  <img src="/images/wallhaven-wqery6-light.webp" alt="JavaScript" class="!max-w-none">
  <span class="title">JavaScript</span>
</a><a class="recommended-article-item" href="/2025/02/14/编程语言/cpp学习记录/" title="cpp学习记录" rel="bookmark">
  <img src="/images/wallhaven-wqery6-light.webp" alt="cpp学习记录" class="!max-w-none">
  <span class="title">cpp学习记录</span>
</a><a class="recommended-article-item" href="/2025/01/20/前后端/响应式设计/" title="响应式设计" rel="bookmark">
  <img src="/images/wallhaven-wqery6-light.webp" alt="响应式设计" class="!max-w-none">
  <span class="title">响应式设计</span>
</a></div>
   </div>
   <div class="recommended-mobile">
   <div class="recommended-article-header text-xl md:text-3xl font-bold mt-10">
     <i aria-hidden="true"></i><span>推荐阅读</span>
   </div>
   <div class="recommended-article-group"><a class="recommended-article-item" href="/2025/01/09/编程语言/JavaScript/" title="JavaScript" rel="bookmark">
  <img src="/images/wallhaven-wqery6-light.webp" alt="JavaScript" class="!max-w-none">
  <span class="title">JavaScript</span>
</a><a class="recommended-article-item" href="/2025/02/14/编程语言/cpp学习记录/" title="cpp学习记录" rel="bookmark">
  <img src="/images/wallhaven-wqery6-light.webp" alt="cpp学习记录" class="!max-w-none">
  <span class="title">cpp学习记录</span>
</a></div>
   </div>
  </div>

		
		<div class="article-nav my-8 flex justify-between items-center px-2 sm:px-6 md:px-8">
			
			<div class="article-prev border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2">
				<a class="prev" rel="prev" href="/2025/04/28/Prisma/">
					<span class="left arrow-icon flex justify-center items-center">
						<i class="fa-solid fa-chevron-left"></i>
					</span>
					<span class="title flex justify-center items-center">
						<span class="post-nav-title-item">Prisma</span>
						<span class="post-nav-item">上一篇</span>
					</span>
				</a>
			</div>
			
			
			<div class="article-next border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2">
				<a class="next" rel="next" href="/2025/02/16/%E5%89%8D%E5%90%8E%E7%AB%AF/%E8%B7%A8%E7%BB%84%E4%BB%B6%E6%B8%B2%E6%9F%93/">
					<span class="title flex justify-center items-center">
						<span class="post-nav-title-item">跨组件渲染</span>
						<span class="post-nav-item">下一篇</span>
					</span>
					<span class="right arrow-icon flex justify-center items-center">
						<i class="fa-solid fa-chevron-right"></i>
					</span>
				</a>
			</div>
			
		</div>
		


		
	</div>

	
	<div class="toc-content-container">
		<div class="post-toc-wrap">
	<div class="post-toc">
		<div class="toc-title">目录</div>
		<div class="page-title">Swift学习摘记</div>
		<ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%88%9D%E8%A7%81"><span class="nav-number">1.</span> <span class="nav-text">初见</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%B1%BB"><span class="nav-number">1.0.1.</span> <span class="nav-text">对象和类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7"><span class="nav-number">1.0.2.</span> <span class="nav-text">计算属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Mutating"><span class="nav-number">1.0.3.</span> <span class="nav-text">Mutating</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B1%9E%E6%80%A7%E7%9B%91%E8%A7%86%E5%99%A8"><span class="nav-number">1.0.4.</span> <span class="nav-text">属性监视器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9E%9A%E4%B8%BE"><span class="nav-number">1.0.5.</span> <span class="nav-text">枚举</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A6%82%E5%BF%B5"><span class="nav-number">1.0.6.</span> <span class="nav-text">概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B6%E4%BB%96"><span class="nav-number">1.0.7.</span> <span class="nav-text">其他</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99"><span class="nav-number">2.</span> <span class="nav-text">设计原则</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%98%E6%96%B9%E6%89%8B%E5%86%8C%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95"><span class="nav-number">3.</span> <span class="nav-text">官方手册学习记录</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="nav-number">3.1.</span> <span class="nav-text">基础知识</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%83%E7%BB%84"><span class="nav-number">3.1.1.</span> <span class="nav-text">元组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86"><span class="nav-number">3.1.2.</span> <span class="nav-text">错误处理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%AD%E8%A8%80%E5%92%8C%E5%85%88%E5%86%B3%E6%9D%A1%E4%BB%B6"><span class="nav-number">3.1.3.</span> <span class="nav-text">断言和先决条件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">3.2.</span> <span class="nav-text">运算符</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">3.2.1.</span> <span class="nav-text">基本运算符</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%A7%E5%88%B6%E6%B5%81"><span class="nav-number">3.3.</span> <span class="nav-text">控制流</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%8F%E8%AE%AE"><span class="nav-number">3.4.</span> <span class="nav-text">协议</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%8F%E8%AE%AE%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="nav-number">3.4.1.</span> <span class="nav-text">协议的基本用法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A5%E5%85%85%E5%8D%8F%E8%AE%AE"><span class="nav-number">3.4.2.</span> <span class="nav-text">补充协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Error-handling"><span class="nav-number">3.4.3.</span> <span class="nav-text">Error handling</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B6%E4%BB%96%E7%9A%84%E5%8D%8F%E8%AE%AE"><span class="nav-number">3.4.4.</span> <span class="nav-text">其他的协议</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%97%AD%E5%8C%85-1"><span class="nav-number">3.5.</span> <span class="nav-text">闭包</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%85%95%E8%AF%BE%E5%AD%A6%E4%B9%A0%E6%9D%82%E8%AE%B0"><span class="nav-number">4.</span> <span class="nav-text">慕课学习杂记</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%9C%E5%9B%BE%E5%92%8C%E7%BB%98%E7%94%BB"><span class="nav-number">4.0.1.</span> <span class="nav-text">作图和绘画</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BC%A0%E6%84%9F%E5%99%A8"><span class="nav-number">4.0.2.</span> <span class="nav-text">传感器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%A8%E7%94%BB"><span class="nav-number">4.0.3.</span> <span class="nav-text">动画</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%93%E7%BB%B3%E8%AE%B0%E4%BA%8B"><span class="nav-number">4.1.</span> <span class="nav-text">结绳记事</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Swift-UI"><span class="nav-number">5.</span> <span class="nav-text">Swift UI</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#AR"><span class="nav-number">5.1.</span> <span class="nav-text">AR</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8A%A8%E7%94%BB-1"><span class="nav-number">5.2.</span> <span class="nav-text">动画</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Symbol-6"><span class="nav-number">5.3.</span> <span class="nav-text">Symbol 6</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%A8%E7%94%BB-2"><span class="nav-number">5.3.1.</span> <span class="nav-text">动画</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="nav-number">5.4.</span> <span class="nav-text">基本语法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%88%E9%80%82%E7%9A%84%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="nav-number">5.5.</span> <span class="nav-text">合适的修饰符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="nav-number">5.6.</span> <span class="nav-text">基本操作</span></a></li></ol></li></ol>

	</div>
</div>
	</div>
	
</div>
			</div>

			
		</div>

		<div class="main-content-footer">
			<footer class="footer mt-5 py-5 h-auto text-base text-third-text-color relative border-t-2 border-t-border-color">
    <div class="info-container py-3 text-center">
        
        <div class="text-center">
            &copy;
            
              <span>2025</span>
              -
            
            2025&nbsp;&nbsp;<i class="fa-solid fa-heart fa-beat" style="--fa-animation-duration: 1s; color: #f54545"></i>&nbsp;&nbsp;<a href="/">ffy</a>
            
                
                <p class="post-count space-x-0.5">
                    <span>
                        共撰写了 11 篇文章
                    </span>
                    
                        <span>
                            共 60.4k 字
                        </span>
                    
                </p>
            
        </div>
        
            <script data-swup-reload-script src="https://cn.vercount.one/js"></script>
            <div class="relative text-center lg:absolute lg:right-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-right">
                
                    <span id="busuanzi_container_site_uv" class="lg:!block">
                        <span class="text-sm">访问人数</span>
                        <span id="busuanzi_value_site_uv"></span>
                    </span>
                
                
                    <span id="busuanzi_container_site_pv" class="lg:!block">
                        <span class="text-sm">总访问量</span>
                        <span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="relative text-center lg:absolute lg:left-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-left">
            <span class="lg:block text-sm">由 <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="relative top-[2px] inline-block align-baseline" version="1.1" id="圖層_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" class="text-base" href="https://hexo.io">Hexo</a> 驱动</span>
            <span class="text-sm lg:block">主题&nbsp;<a class="text-base" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v2.8.2</a></span>
        </div>
        
        
            <div>
                博客已运行 <span class="odometer" id="runtime_days" ></span> 天 <span class="odometer" id="runtime_hours"></span> 小时 <span class="odometer" id="runtime_minutes"></span> 分钟 <span class="odometer" id="runtime_seconds"></span> 秒
            </div>
        
        
            <script data-swup-reload-script>
                try {
                    function odometer_init() {
                    const elements = document.querySelectorAll('.odometer');
                    elements.forEach(el => {
                        new Odometer({
                            el,
                            format: '( ddd).dd',
                            duration: 200
                        });
                    });
                    }
                    odometer_init();
                } catch (error) {}
            </script>
        
        
        
    </div>  
</footer>
		</div>
	</div>

	
	<div class="post-tools">
		<div class="post-tools-container">
	<ul class="article-tools-list">
		<!-- TOC aside toggle -->
		
		<li class="right-bottom-tools page-aside-toggle">
			<i class="fa-regular fa-outdent"></i>
		</li>
		

		<!-- go comment -->
		
	</ul>
</div>
	</div>
	

	<div class="right-side-tools-container">
		<div class="side-tools-container">
	<ul class="hidden-tools-list">
		<li class="right-bottom-tools tool-font-adjust-plus flex justify-center items-center">
			<i class="fa-regular fa-magnifying-glass-plus"></i>
		</li>

		<li class="right-bottom-tools tool-font-adjust-minus flex justify-center items-center">
			<i class="fa-regular fa-magnifying-glass-minus"></i>
		</li>

		<li class="right-bottom-tools tool-dark-light-toggle flex justify-center items-center">
			<i class="fa-regular fa-moon"></i>
		</li>

		<!-- rss -->
		

		

		<li class="right-bottom-tools tool-scroll-to-bottom flex justify-center items-center">
			<i class="fa-regular fa-arrow-down"></i>
		</li>
	</ul>

	<ul class="visible-tools-list">
		<li class="right-bottom-tools toggle-tools-list flex justify-center items-center">
			<i class="fa-regular fa-cog fa-spin"></i>
		</li>
		
		<li class="right-bottom-tools tool-scroll-to-top flex justify-center items-center">
			<i class="arrow-up fas fa-arrow-up"></i>
			<span class="percent"></span>
		</li>
		
		
	</ul>
</div>
	</div>

	<div class="image-viewer-container">
	<img src="">
</div>

	
	<div class="search-pop-overlay">
	<div class="popup search-popup">
		<div class="search-header">
			<span class="search-input-field-pre">
				<i class="fa-solid fa-keyboard"></i>
			</span>
			<div class="search-input-container">
				<input autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="站内搜索您需要的内容..." spellcheck="false" type="search" class="search-input">
			</div>
			<span class="popup-btn-close">
				<i class="fa-solid fa-times"></i>
			</span>
		</div>
		<div id="search-result">
			<div id="no-result">
				<i class="fa-solid fa-spinner fa-spin-pulse fa-5x fa-fw"></i>
			</div>
		</div>
	</div>
</div>
	

</main>


<script  src="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/js/build/libs/Swup.min.js" ></script><script  src="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/js/build/libs/SwupSlideTheme.min.js" ></script><script  src="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/js/build/libs/SwupScriptsPlugin.min.js" ></script><script  src="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/js/build/libs/SwupProgressPlugin.min.js" ></script><script  src="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/js/build/libs/SwupScrollPlugin.min.js" ></script><script  src="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/js/build/libs/SwupPreloadPlugin.min.js" ></script>
<script>
    const swup = new Swup({
        plugins: [
            new SwupScriptsPlugin({
                optin: true,
            }),
            new SwupProgressPlugin(),
            new SwupScrollPlugin({
                offset: 80,
            }),
            new SwupSlideTheme({
                mainElement: ".main-content-body",
            }),
            new SwupPreloadPlugin(),
        ],
        containers: ["#swup"],
    });
</script>




	<script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/js/build/tools/imageViewer.js" ></script><script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/js/build/utils.js" ></script><script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/js/build/main.js" ></script><script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/js/build/layouts/navbarShrink.js" ></script><script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/js/build/tools/scrollTopBottom.js" ></script><script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/js/build/tools/lightDarkSwitch.js" ></script><script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/js/build/layouts/categoryList.js" ></script>


    <script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/js/build/tools/localSearch.js" ></script>



    <script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/js/build/tools/codeBlock.js" ></script>



    <script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/js/build/layouts/lazyload.js" ></script>



    <script  src="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/js/build/tools/runtime.js" ></script>
    <script  src="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/js/build/libs/odometer.min.js" ></script>
    <link rel="stylesheet" href="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/assets/odometer-theme-minimal.css">



  <script  src="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/js/build/libs/Typed.min.js" ></script>
  <script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/js/build/plugins/typed.js" ></script>



    
        <script  src="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/js/build/libs/mermaid.min.js" ></script>
    
    <script  src="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/js/build/plugins/mermaid.js" ></script>





    <script  src="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/js/build/libs/anime.min.js" ></script>




    <script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/js/build/tools/tocToggle.js" data-swup-reload-script></script><script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/js/build/layouts/toc.js" data-swup-reload-script></script><script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/js/build/plugins/tabs.js" data-swup-reload-script></script>


<script  src="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/js/build/libs/moment-with-locales.min.js" data-swup-reload-script></script>
<script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.8.2/source/js/build/layouts/essays.js" data-swup-reload-script></script>




	
</body>

</html>